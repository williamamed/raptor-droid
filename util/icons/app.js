!function(e){function t(t){for(var a,i,l=t[0],s=t[1],c=t[2],d=0,f=[];d<l.length;d++)i=l[d],n[i]&&f.push(n[i][0]),n[i]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);for(u&&u(t);f.length;)f.shift()();return o.push.apply(o,c||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],a=!0,l=1;l<r.length;l++){var s=r[l];0!==n[s]&&(a=!1)}a&&(o.splice(t--,1),e=i(i.s=r[0]))}return e}var a={},n={0:0},o=[];function i(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=a,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(r,a,function(t){return e[t]}.bind(null,a));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var l=window.webpackJsonp=window.webpackJsonp||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var u=s;o.push([272,1]),r()}({138:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Drawing=void 0;var a=r(237),n=t.Drawing={};n.context=function(e){var t=document.createElement("canvas");return t.width=e.w,t.height=e.h,t.style.setProperty("image-rendering","optimizeQuality",null),t.getContext("2d")},n.drawCenterInside=function(e,t,r,a){if(a.w/a.h>r.w/r.h){var o=a.h*r.w/a.w;n.drawImageScaled(e,t,a.x,a.y,a.w,a.h,r.x,r.y+(r.h-o)/2,r.w,o)}else{var i=a.w*r.h/a.h;n.drawImageScaled(e,t,a.x,a.y,a.w,a.h,r.x+(r.w-i)/2,r.y,i,r.h)}},n.drawCenterCrop=function(e,t,r,a){if(a.w/a.h>r.w/r.h){var o=a.h*r.w/r.h;n.drawImageScaled(e,t,a.x+(a.w-o)/2,a.y,o,a.h,r.x,r.y,r.w,r.h)}else{var i=a.w*r.h/r.w;n.drawImageScaled(e,t,a.x,a.y+(a.h-i)/2,a.w,i,r.x,r.y,r.w,r.h)}},n.drawImageScaled=function(e,t,r,a,o,i,l,s,c,u){if(c<=0||u<=0||o<=0||i<=0)console.error("Width/height must be at least 0");else{for(t=t.canvas||t;c<o/2||u<i/2;){var d=Math.ceil(Math.max(c,o/2)),f=Math.ceil(Math.max(u,i/2)),h=n.context({w:d,h:f});h.clearRect(0,0,d,f),h.drawImage(t,r,a,o,i,0,0,d,f),t=h.canvas,r=a=0,o=d,i=f}e.drawImage(t,r,a,o,i,l,s,c,u)}},n.drawLayers=function(e,t,r){function o(e,r){var i=n.context(t);if(r.children?function(e,r){var a=[e];r.children.filter(function(e){return!!e}).forEach(function(e){if(o(a[a.length-1],e),e.mask){var r=n.context(t);a.push(r)}});for(;a.length>1;){var i=a[a.length-2],l=a[a.length-1];i.save(),i.globalCompositeOperation="source-atop",i.drawImage(l.canvas,0,0),i.restore(),a.pop()}}(i,r):r.draw&&r.draw(i),r.effects){var l=n.context(t);a.Effects.fx(r.effects,l,i,t),i=l}e.drawImage(i.canvas,0,0)}o(e,r)}},193:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(194);Object.defineProperty(t,"BooleanField",{enumerable:!0,get:function(){return a.BooleanField}});var n=r(330);Object.defineProperty(t,"ColorField",{enumerable:!0,get:function(){return n.ColorField}});var o=r(195);Object.defineProperty(t,"EnumField",{enumerable:!0,get:function(){return o.EnumField}});var i=r(64);Object.defineProperty(t,"Field",{enumerable:!0,get:function(){return i.Field}});var l=r(234);Object.defineProperty(t,"Form",{enumerable:!0,get:function(){return l.Form}});var s=r(498);Object.defineProperty(t,"ImageField",{enumerable:!0,get:function(){return s.ImageField}});var c=r(236);Object.defineProperty(t,"RangeField",{enumerable:!0,get:function(){return c.RangeField}});var u=r(235);Object.defineProperty(t,"TextField",{enumerable:!0,get:function(){return u.TextField}})},194:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BooleanField=void 0;var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0},o=r(195);t.BooleanField=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return r.options=[{id:"1",title:r.onText||"Yes"},{id:"0",title:r.offText||"No"}],r.defaultValue=r.defaultValue?"1":"0",r.buttons=!0,a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.EnumField),a(t,[{key:"getValue",value:function(){return"1"==n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getValue",this).call(this)}},{key:"setValue",value:function(e,r){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setValue",this).call(this,e?"1":"0",r)}},{key:"serializeValue",value:function(){return this.getValue()?"1":"0"}},{key:"deserializeValue",value:function(e){this.setValue("1"==e)}}]),t}()},195:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EnumField=void 0;var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=function(e){return e&&e.__esModule?e:{default:e}}(r(15)),o=r(64);t.EnumField=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Field),a(t,[{key:"createUi",value:function(e){var r=this,a=(0,n.default)(".form-field-container",function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createUi",this).call(this,e));this.params_.buttons?this.el_=(0,n.default)("<div>").attr("id",this.getHtmlId()).addClass("form-field-buttonset").appendTo(a):(this.el_=(0,n.default)("<div>").addClass("form-field-select").attr("id",this.getHtmlId()).appendTo(a),this.selectEl_=(0,n.default)("<select>").attr("id",this.getHtmlId()).on("input",function(e){return r.setValueInternal_((0,n.default)(e.currentTarget).val(),!0)}).appendTo(this.el_)),this.setOptions(this.params_.options)}},{key:"setOptions",value:function(e){var t=this;this.el_&&(e=(e||[]).map(function(e){return"string"==typeof e?{id:e,title:String(e)}:e}),this.params_.buttons?(this.el_.empty(),(e||[]).forEach(function(e){(0,n.default)("<input>").attr({type:"radio",name:t.getHtmlId(),id:t.getHtmlId()+"-"+e.id,value:e.id}).on("change",function(e){return t.setValueInternal_((0,n.default)(e.currentTarget).val(),!1)}).appendTo(t.el_),(0,n.default)("<label>").attr("for",t.getHtmlId()+"-"+e.id).attr("tabindex",0).html(e.title).appendTo(t.el_)})):(this.selectEl_.empty(),(e||[]).forEach(function(e){return(0,n.default)("<option>").attr("value",e.id).text(e.title).appendTo(t.selectEl_)})),this.setValueInternal_(this.getValue()))}},{key:"getValue",value:function(){var e=this.value_;if(void 0===e&&void 0===(e=this.params_.defaultValue)&&this.params_.options&&this.params_.options.length){var t=this.params_.options[0];e="id"in t?t.id:String(t)}return e}},{key:"setValue",value:function(e,t){this.setValueInternal_(e,t)}},{key:"setValueInternal_",value:function(e,t){var r=this.value_;this.value_=e,t||(this.params_.buttons?this.el_.find("input").each(function(t,r){return(0,n.default)(r).prop("checked",(0,n.default)(r).val()==e)}):this.selectEl_.val(e)),this.notifyChanged_(e,r)}},{key:"serializeValue",value:function(){return this.getValue()}},{key:"deserializeValue",value:function(e){this.setValue(e)}}]),t}()},234:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}();t.Form=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id_=t.id,this.params_=t,this.fields_=t.fields,this.fields_.forEach(function(e){return e.setForm_(r)}),this.fields_.forEach(function(e){return e.createUi(t.container)})}return a(e,[{key:"onChange",value:function(e){this.changeListeners_=(this.changeListeners_||[]).concat([e])}},{key:"notifyChanged_",value:function(e,t,r){this.pauseNotify_||(this.changeListeners_||[]).forEach(function(a){return a(e,t,r)})}},{key:"getValues",value:function(){var e={};return this.fields_.forEach(function(t){return e[t.id_]=t.getValue()}),e}},{key:"getValuesSerialized",value:function(){var e={};return this.fields_.forEach(function(t){void 0!==(t.serializeValue?t.serializeValue():void 0)&&(e[t.id_]=t.serializeValue())}),e}},{key:"setValuesSerialized",value:function(e){this.pauseNotify_=!0,this.fields_.filter(function(t){return t.id_ in e&&t.deserializeValue}).forEach(function(t){return t.deserializeValue(e[t.id_])}),this.pauseNotify_=!1,this.notifyChanged_()}}]),e}()},235:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextField=void 0;var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=function(e){return e&&e.__esModule?e:{default:e}}(r(15)),o=r(64);t.TextField=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Field),a(t,[{key:"createUi",value:function(e){var r=this,a=(0,n.default)(".form-field-container",function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createUi",this).call(this,e));this.el_=(0,n.default)("<input>").attr("type","text").attr("placeholder",this.params_.placeholder).addClass("form-field-text").val(this.getValue()).on("input",function(e){var t=r.getValue(),a=(0,n.default)(e.currentTarget).val();t!=a&&r.setValue(a,!0)}).appendTo(a)}},{key:"getValue",value:function(){var e=this.value_;return"string"!=typeof e&&(e=this.params_.defaultValue||""),e}},{key:"setValue",value:function(e,t){var r=this.value_;this.value_=e,t||this.el_.val(e),this.notifyChanged_(e,r)}},{key:"serializeValue",value:function(){return this.getValue()}},{key:"deserializeValue",value:function(e){this.setValue(e)}}]),t}()},236:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RangeField=void 0;var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=function(e){return e&&e.__esModule?e:{default:e}}(r(15)),o=r(64);t.RangeField=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Field),a(t,[{key:"createUi",value:function(e){var r=this,a=(0,n.default)(".form-field-container",function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createUi",this).call(this,e));this.el_=(0,n.default)("<div>").addClass("form-field-range").attr("id",this.getHtmlId()).appendTo(a),this.rangeEl_=(0,n.default)("<input>").attr("type","range").attr("min",this.params_.min||0).attr("max",this.params_.max||100).attr("step",this.params_.step||1).on("input",function(){return r.setValue(Number(r.rangeEl_.val())||0,!0)}).val(this.getValue()).appendTo(this.el_),(this.params_.textFn||this.params_.showText)&&(this.params_.textFn=this.params_.textFn||function(e){return e},this.textEl_=(0,n.default)("<div>").addClass("form-field-range-text").text(this.params_.textFn(this.getValue())).appendTo(this.el_))}},{key:"getValue",value:function(){var e=this.value_;return"number"!=typeof e&&"number"!=typeof(e=this.params_.defaultValue)&&(e=0),e}},{key:"setValue",value:function(e,t){var r=this.value_;this.value_=e,t||this.rangeEl_.val(e),this.textEl_&&this.textEl_.text(this.params_.textFn(e)),this.notifyChanged_(e,r)}},{key:"serializeValue",value:function(){return this.getValue()}},{key:"deserializeValue",value:function(e){this.setValue(Number(e))}}]),t}()},237:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Effects=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(r(86)),n=r(138);var o=new Set(["outer-shadow","cast-shadow"]),i=new Set(["inner-shadow","score"]),l=new Set(["fill-color","fill-lineargradient","fill-radialgradient"]);t.Effects={fx:function(e,t,r,c){var d=(e=e||[]).filter(function(e){return o.has(e.effect)}),f=e.filter(function(e){return i.has(e.effect)}),h=e.filter(function(e){return l.has(e.effect)}),p=void 0,_=void 0,m=void 0,g=void 0,v=void 0,w=void 0;m=g=v=w=d.reduce(function(e,t){return Math.max(e,t.blur||0)},0);var b={w:c.w+m+g,h:c.h+w+v};p=n.Drawing.context(b),d.forEach(function(e){switch(e.effect){case"cast-shadow":p.clearRect(0,0,b.w,b.h),p.drawImage(r.canvas||r,m,w),function(e,t,r){for(var a=n.Drawing.context({w:t,h:r}),o=1;o<Math.max(t,r);o++)a.drawImage(e.canvas,o,o);a.globalCompositeOperation="source-in",a.fillStyle="#000",a.fillRect(0,0,t,r);var i=a.createLinearGradient(0,0,t,r);i.addColorStop(0,"rgba(0, 0, 0, .2)"),i.addColorStop(1,"rgba(0, 0, 0, 0)"),a.fillStyle=i,a.fillRect(0,0,t,r),e.clearRect(0,0,t,r),e.drawImage(a.canvas,0,0)}(p,b.w,b.h),t.drawImage(p.canvas,m,w,c.w,c.h,0,0,c.w,c.h);break;case"outer-shadow":var o=(0,a.default)(e.color||"#000"),i=o.getAlpha();o.setAlpha(1),s()?(p.save(),p.clearRect(0,0,b.w,b.h),p.filter="blur("+(e.blur||0)+"px)",p.drawImage(r.canvas||r,m,w),p.globalCompositeOperation="source-atop",p.fillStyle=o.toRgbString(),p.fillRect(0,0,b.w,b.h),p.restore(),t.save(),t.translate(e.translateX||0,e.translateY||0),t.globalAlpha=i,t.drawImage(p.canvas,m,w,c.w,c.h,0,0,c.w,c.h),t.restore()):(t.save(),t.globalAlpha=i,t.shadowOffsetX=b.w,t.shadowOffsetY=0,t.shadowColor=o.toRgbString(),t.shadowBlur=u(e.blur||0),t.drawImage(r.canvas||r,(e.translateX||0)-b.w,e.translateY||0),t.restore())}}),_=n.Drawing.context(c),(p=n.Drawing.context(c)).drawImage(r.canvas||r,0,0),p.globalCompositeOperation="source-atop";var y=1;if(h.length){var x=h[0];switch(y="opacity"in x?x.opacity:1,p.save(),x.effect){case"fill-color":p.fillStyle=x.color;break;case"fill-lineargradient":var k=p.createLinearGradient(x.fromX,x.fromY,x.toX,x.toY);x.colors.forEach(function(e){var t=e.offset,r=e.color;return k.addColorStop(t,r)}),p.fillStyle=k;break;case"fill-radialgradient":var O=p.createRadialGradient(x.centerX,x.centerY,0,x.centerX,x.centerY,x.radius);x.colors.forEach(function(e){var t=e.offset,r=e.color;return O.addColorStop(t,r)}),p.fillStyle=O}p.fillRect(0,0,c.w,c.h),p.restore()}_.save(),_.globalAlpha=y,_.drawImage(p.canvas,0,0),_.restore(),m=w=g=v=0,f.forEach(function(e){m=Math.max(m,(e.blur||0)+Math.max(0,e.translateX||0)),w=Math.max(w,(e.blur||0)+Math.max(0,e.translateY||0)),g=Math.max(g,(e.blur||0)+Math.max(0,-(e.translateX||0))),v=Math.max(v,(e.blur||0)+Math.max(0,-(e.translateY||0)))}),b={w:c.w+m+g,h:c.h+w+v},p=n.Drawing.context(b),f.forEach(function(e){switch(e.effect){case"inner-shadow":p.save(),p.clearRect(0,0,b.w,b.h),s()?(p.filter="blur("+(e.blur||0)+"px)",p.drawImage(_.canvas,m+(e.translateX||0),w+(e.translateY||0))):(p.shadowOffsetX=b.w,p.shadowOffsetY=0,p.shadowColor="#000",p.shadowBlur=u(e.blur||0),p.drawImage(_.canvas,m+(e.translateX||0)-b.w,w+(e.translateY||0))),p.globalCompositeOperation="source-out",p.fillStyle=e.color,p.fillRect(0,0,b.w,b.h),p.restore(),_.save(),_.globalCompositeOperation="source-atop",_.drawImage(p.canvas,-m,-w),_.restore()}}),t.drawImage(_.canvas,0,0)}};function s(){return s.hasOwnProperty("cached")||(s.cached="none"==document.createElement("canvas").getContext("2d").filter),s.cached}var c=[{re:/chrome/i,mult:2.7},{re:/safari/i,mult:1.8},{re:/firefox/i,mult:1.7},{re:/./i,mult:1.7}].find(function(e){return e.re.test(navigator.userAgent)}).mult;function u(e){return e*c}},272:function(e,t,r){"use strict";var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(273));r(513),window.pages=a,window.addEventListener("load",function(){"serviceWorker"in navigator&&navigator.serviceWorker.register("sw.js")})},273:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(274);Object.defineProperty(t,"LauncherIconGenerator",{enumerable:!0,get:function(){return a.LauncherIconGenerator}});var n=r(503);Object.defineProperty(t,"AppShortcutIconGenerator",{enumerable:!0,get:function(){return n.AppShortcutIconGenerator}});var o=r(504);Object.defineProperty(t,"ActionBarIconGenerator",{enumerable:!0,get:function(){return o.ActionBarIconGenerator}});var i=r(505);Object.defineProperty(t,"NotificationIconGenerator",{enumerable:!0,get:function(){return i.NotificationIconGenerator}});var l=r(506);Object.defineProperty(t,"GenericIconGenerator",{enumerable:!0,get:function(){return l.GenericIconGenerator}});var s=r(507);Object.defineProperty(t,"NinePatchGenerator",{enumerable:!0,get:function(){return s.NinePatchGenerator}})},274:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LauncherIconGenerator=void 0;var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(32)),o=r(65);var i={w:48,h:48},l={none:{x:3,y:3,w:42,h:42},circle:{x:2,y:2,w:44,h:44},square:{x:5,y:5,w:38,h:38},vrect:{x:8,y:2,w:32,h:44},hrect:{x:2,y:8,w:44,h:32}},s=[{id:"none",title:"None"},{id:"elevate",title:"Elevate"},{id:"shadow",title:"Cast shadow"},{id:"score",title:"Score"}],c=[{id:"none",title:"None"},{id:"score",title:"Score"}];t.LauncherIconGenerator=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.BaseGenerator),a(t,[{key:"setupForm",value:function(){var e=this,t=void 0,r=void 0;this.form=new n.Form({id:"iconform",container:"#inputs-form",fields:[new n.ImageField("foreground",{title:"Foreground",maxFinalSize:{w:720,h:720},defaultValueTrim:1,defaultValuePadding:.25,defaultValueClipart:"android",dropTarget:document.body}),new n.ColorField("foreColor",{newGroup:!0,title:"Color",helpText:"Set to transparent to use original colors",alpha:!0,defaultValue:"rgba(96, 125, 139, 0)"}),t=new n.ColorField("backColor",{title:"Background color",defaultValue:"#448aff"}),new n.BooleanField("crop",{title:"Scaling",defaultValue:!1,offText:"Center",onText:"Crop"}),new n.EnumField("backgroundShape",{title:"Shape",options:[{id:"none",title:"None"},{id:"square",title:"Square"},{id:"circle",title:"Circle"},{id:"vrect",title:"Tall rect"},{id:"hrect",title:"Wide rect"}],defaultValue:"square",onChange:function(e){t.setEnabled("none"!=e);var a="none"==e?c:s;a.find(function(e){return e.id==r.getValue()})||r.setValue(a[0].id),r.setOptions(a)}}),r=new n.EnumField("effects",{title:"Effect",buttons:!0,options:s,defaultValue:"none"}),new n.TextField("name",{title:"Name",defaultValue:"ic_launcher"})]}),this.form.onChange(function(t){return e.regenerateDebounced_()})}},{key:"regenerate",value:function(){var e=this,t=this.form.getValues();t.name=t.name||"ic_launcher",this.zipper.clear(),this.zipper.setZipFilename(t.name+".zip");var r=null;this.densities.forEach(function(a){var o=void 0;if("xxxhdpi"==a||"web"==a)o=e.regenerateRawAtDensity_(a),"xxxhdpi"==a&&(r=o);else{var l=n.Util.getMultBaseMdpi(a),s=n.Util.multRound(i,l);o=n.Drawing.context(s),n.Drawing.drawImageScaled(o,r,0,0,192,192,0,0,s.w,s.h)}e.zipper.add({name:"web"==a?"web_hi_res_512.png":"res/mipmap-"+a+"/"+t.name+".png",canvas:o.canvas}),e.setImageForSlot_(a,o.canvas.toDataURL())})}},{key:"regenerateRawAtDensity_",value:function(e){var t=this.form.getValues(),r=t.foreground?t.foreground.ctx:null,a=n.Util.getMultBaseMdpi(e);"web"==e&&(a=512/48);var o=n.Util.multRound(i,a),s=l[t.backgroundShape],c=n.Drawing.context(o),u={draw:function(e){e.scale(a,a),t.backColor.setAlpha(1),e.fillStyle=t.backColor.toRgbString();var r=l[t.backgroundShape];switch(t.backgroundShape){case"square":case"vrect":case"hrect":!function(e,t,r){var a=t.x,n=t.y,o=t.w,i=t.h;e.beginPath(),e.moveTo(a+o-r,n),e.arcTo(a+o,n,a+o,n+r,r),e.lineTo(a+o,n+i-r),e.arcTo(a+o,n+i,a+o-r,n+i,r),e.lineTo(a+r,n+i),e.arcTo(a,n+i,a,n+i-r,r),e.lineTo(a,n+r),e.arcTo(a,n,a+r,n,r),e.closePath()}(e,r,3),e.fill();break;case"circle":e.beginPath(),e.arc(r.x+r.w/2,r.y+r.h/2,r.w/2,0,2*Math.PI,!1),e.closePath(),e.fill()}},mask:!0},d={draw:function(e){r&&(0,n.Drawing[t.crop?"drawCenterCrop":"drawCenterInside"])(e,r,n.Util.mult(s,a),{x:0,y:0,w:r.canvas.width,h:r.canvas.height})},effects:[],mask:!("none"!=t.backgroundShape)};"none"!=t.backgroundShape&&"shadow"==t.effects&&d.effects.push({effect:"cast-shadow"}),t.foreColor.getAlpha()&&d.effects.push({effect:"fill-color",color:t.foreColor.toRgbString()}),"none"==t.backgroundShape||"elevate"!=t.effects&&"shadow"!=t.effects||(d.effects=d.effects.concat([{effect:"outer-shadow",color:"rgba(0, 0, 0, 0.2)",translateY:.25*a},{effect:"outer-shadow",color:"rgba(0, 0, 0, 0.2)",blur:1*a,translateY:1*a}]));var f={draw:function(e){e.fillStyle="rgba(0, 0, 0, .1)",e.fillRect(0,0,o.w,o.h/2)}};return n.Drawing.drawLayers(c,o,{children:["none"!=t.backgroundShape?u:null,d,"score"==t.effects?f:null],effects:[{effect:"inner-shadow",color:"rgba(255, 255, 255, 0.2)",translateY:.25*a},{effect:"inner-shadow",color:"rgba(0, 0, 0, 0.2)",translateY:-.25*a},{effect:"fill-radialgradient",centerX:0,centerY:0,radius:o.w,colors:[{offset:0,color:"rgba(255,255,255,.1)"},{offset:1,color:"rgba(255,255,255,0)"}]},{effect:"outer-shadow",color:"rgba(0, 0, 0, 0.3)",blur:.7*a,translateY:.7*a}]}),c}},{key:"densities",get:function(){return new Set(["xxxhdpi","web","xxhdpi","xhdpi","hdpi","mdpi"])}},{key:"gridOverlaySvg",get:function(){return'<svg width="48" height="48" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">\n        <g fill="none" fill-rule="evenodd">\n            <rect vector-effect="non-scaling-stroke" x="8" y="2" width="32" height="44" rx="3"/>\n            <rect vector-effect="non-scaling-stroke" x="5" y="5" width="38" height="38" rx="3"/>\n            <rect vector-effect="non-scaling-stroke" x="2" y="8" width="44" height="32" rx="3"/>\n            <circle vector-effect="non-scaling-stroke" cx="24" cy="24" r="10"/>\n            <circle vector-effect="non-scaling-stroke" cx="24" cy="24" r="22"/>\n            <path vector-effect="non-scaling-stroke" d="M0 48L48 0M0 0l48 48M24 48V0M17 0v48M31 0v48M48 24H0M0 31h48M0 17h48"/>\n        </g>\n    </svg>'}}]),t}()},275:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Hash=void 0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],a=!0,n=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);a=!0);}catch(e){n=!0,o=e}finally{try{!a&&l.return&&l.return()}finally{if(n)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(r(15)),i=r(80);t.Hash={bindFormToDocumentHash:function(e){var t=this;if(this.boundForm_)console.error("already bound to a form");else{this.boundForm_=e,e.onChange(i.Util.debounce(100,function(){t.currentHash_=s(e.getValuesSerialized()),window.history.replaceState({},"","#"+t.currentHash_)}));var r=function(){var r=s(l((document.location.href.match(/#.*/)||[""])[0]));r!=t.currentHash_&&(e.setValuesSerialized(l(r)),t.currentHash_=r)};(0,o.default)(window).on("hashchange",r),r()}}};function l(e){var t={};return(e=e.replace(/^[?#]/,"")).split("&").forEach(function(e){var r=e.split("=",2),a=n(r,2),o=a[0],i=a[1];o=decodeURIComponent(o||""),i=decodeURIComponent(i||"");var l=o.split("."),s=t;l.slice(0,-1).forEach(function(e){s[e]=s[e]||{},s=s[e]});var c=l[l.length-1];c in s?Array.isArray(s[c])?s[c].push(i):s[c]=[s[c],i]:s[c]=i}),t}function s(e,t){var r=[],n=function(e){return encodeURIComponent((t?t+".":"")+e)},o=function(e,t){!1===t&&(t=0),!0===t&&(t=1),r.push(n(e)+"="+encodeURIComponent(t.toString()))},i=function(t){var i=e[t];if(void 0===i||null===i)return"continue";Array.isArray(i)?i.forEach(function(e){return o(t,e)}):"object"==(void 0===i?"undefined":a(i))?r.push(s(i,n(t))):o(t,i)};for(var l in e)i(l);return r.join("&")}},276:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Zip=void 0;var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=function(e){return e&&e.__esModule?e:{default:e}}(r(277)),o=r(80);t.Zip={createDownloadifyZipButton:function(e,t){return new i(e,t)}};var i=function(){function e(t,r){var a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.fileSpecs_=[],this.el_=t,this.el_.click(function(){return a.generateAndDownloadZipFile_()}),this.updateUI_()}return a(e,[{key:"setZipFilename",value:function(e){this.zipFilename_=e}},{key:"clear",value:function(){this.fileSpecs_=[],this.updateUI_()}},{key:"add",value:function(e){this.fileSpecs_.push(e),this.updateUI_()}},{key:"updateUI_",value:function(){this.fileSpecs_.length&&!this.isGenerating_?this.el_.removeAttr("disabled"):this.el_.attr("disabled","disabled")}},{key:"generateAndDownloadZipFile_",value:function(){var e=this,t=this.zipFilename_||"output.zip";if(this.fileSpecs_.length){this.isGenerating_=!0,this.updateUI_();var r=new n.default;this.fileSpecs_.forEach(function(e){e.canvas?r.file(e.name,e.canvas.toDataURL().replace(/.*?;base64,/,""),{base64:!0}):r.file(e.name,e.textData)}),r.generateAsync({type:"blob"}).then(function(r){o.Util.downloadFile(r,t),e.isGenerating_=!1,e.updateUI_()}).catch(function(t){console.error(t),e.isGenerating_=!1,e.updateUI_()})}}}]),e}()},282:function(e,t){},284:function(e,t){},32:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(275);Object.defineProperty(t,"Hash",{enumerable:!0,get:function(){return a.Hash}});var n=r(80);Object.defineProperty(t,"Util",{enumerable:!0,get:function(){return n.Util}});var o=r(276);Object.defineProperty(t,"Zip",{enumerable:!0,get:function(){return o.Zip}});var i=r(193);Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})});var l=r(501);Object.keys(l).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}})})},330:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorField=void 0;var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=u(r(15)),o=u(r(86)),i=u(r(1)),l=u(r(333)),s=r(342),c=r(64);function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722","#9e9e9e","#607d8b","#ffffff","#000000"],_=function(e){function t(e){d(this,t);var r=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.widgetRef=i.default.createRef(),r.state={displayColorPicker:!1,color:e.color||{r:0,g:0,b:0,a:1}},r.handleClick=r.handleClick.bind(r),r.handleClose=r.handleClose.bind(r),r.handleChange=r.handleChange.bind(r),r.handleKeyDown=r.handleKeyDown.bind(r),r}return h(t,i.default.Component),a(t,[{key:"handleKeyDown",value:function(e){27===e.keyCode&&this.handleClose()}},{key:"handleClick",value:function(){var e=this.widgetRef.current.getBoundingClientRect();this.setState({displayColorPicker:!this.state.displayColorPicker,widgetLeft:e.x,widgetTop:e.y-270})}},{key:"handleClose",value:function(){this.setState({displayColorPicker:!1})}},{key:"handleChange",value:function(e){this.setState({color:e.rgb}),this.props.onChange&&this.props.onChange(this.rgbaString(e.rgb))}},{key:"rgbaString",value:function(e){return"rgba("+e.r+", "+e.g+", "+e.b+", "+e.a+")"}},{key:"render",value:function(){return i.default.createElement("div",{id:this.props.id,onKeyDown:this.handleKeyDown},i.default.createElement("button",{ref:this.widgetRef,className:"form-field-color-widget",onClick:this.handleClick},i.default.createElement("div",{className:"form-field-color-widget-swatch",style:{color:this.rgbaString(this.state.color)}})),this.state.displayColorPicker?i.default.createElement("div",{className:"form-field-color-popup-container",style:{left:this.state.widgetLeft,top:this.state.widgetTop}},i.default.createElement("div",{className:"form-field-color-popup-cover",onClick:this.handleClose}),i.default.createElement(s.SketchPicker,{presetColors:p,disableAlpha:!this.props.showAlpha,color:this.state.color,onChange:this.handleChange})):null)}}]),t}();t.ColorField=function(e){function t(){return d(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,c.Field),a(t,[{key:"createUi",value:function(e){var r=this,a=(0,n.default)(".form-field-container",function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createUi",this).call(this,e));l.default.render(i.default.createElement(_,{ref:function(e){return r.pickerWidget=e},id:this.getHtmlId(),color:this.getValue().toRgb(),showAlpha:this.params_.alpha,onChange:function(e){return r.setValue(e,!0)}}),(0,n.default)("<div>").appendTo(a).get(0))}},{key:"getValue",value:function(){return this.value_||(0,o.default)(this.params_.defaultValue||"#000")}},{key:"setValue",value:function(e,t){var r=this.value_;this.value_=e.hasOwnProperty("_r")?e:(0,o.default)(e||this.params_.defaultValue||"#000"),t||this.pickerWidget.setState({color:this.value_.toRgb()}),this.notifyChanged_(e,r)}},{key:"serializeValue",value:function(){return this.getValue().toRgbString()}},{key:"deserializeValue",value:function(e){this.setValue(e)}}]),t}()},498:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImageField=void 0;var a=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],a=!0,n=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);a=!0);}catch(e){n=!0,o=e}finally{try{!a&&l.return&&l.return()}finally{if(n)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),o=function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0},i=g(r(15)),l=g(r(499)),s=r(234),c=r(64),u=r(235),d=r(236),f=r(194),h=r(193),p=r(80),_=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(32)),m=r(500);function g(e){return e&&e.__esModule?e:{default:e}}var v=t.ImageField=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return a.valueType_=null,a.textParams_={},a.imageParams_={},a.clipartSrc_=null,a.lastNotifiedValue_={},a.spaceFormValues_={},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.Field),n(t,[{key:"createUi",value:function(e){var r=this,n=o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createUi",this).call(this,e),l=(0,i.default)(".form-field-container",n);n.addClass("form-field-image"),this.setupDropTarget_(n),this.el_=(0,i.default)("<div>").attr("id",this.getHtmlId()).addClass("form-field-buttonset").appendTo(l);var c={};if((this.params_.imageOnly?[["image","Select image"]]:[["image","Image"],["clipart","Clipart"],["text","Text"]]).forEach(function(e){var t=a(e,2),n=t[0],o=t[1];(0,i.default)("<input>").attr({type:"radio",name:r.getHtmlId(),id:r.getHtmlId()+"-"+n,value:n}).appendTo(r.el_),c[n]=(0,i.default)("<label>").attr("for",r.getHtmlId()+"-"+n).attr("tabindex",0).text(o).appendTo(r.el_)}),this.fileEl_=(0,i.default)("<input>").addClass("form-image-hidden-file-field").attr({id:this.getHtmlId(),type:"file",accept:"image/*"}).on("change",function(){return r.loadImage_(r.fileEl_.get(0).files)}).appendTo(this.el_),c.image.click(function(e){return r.fileEl_.trigger("click"),r.setValueType_(null),r.renderValueAndNotifyChanged_(),e.preventDefault(),!1}),!this.params_.imageOnly){var _=(0,i.default)("<div>").addClass("form-image-type-params form-image-type-params-clipart is-hidden").appendTo(l),g=(0,i.default)("<div>").addClass("form-image-clipart-list").addClass("cancel-parent-scroll").appendTo(_);m.CLIPART_NAMES.forEach(function(e){(0,i.default)("<div>").addClass("form-image-clipart-item").attr("data-name",e).attr("title",e).text(e).click(function(){return r.loadClipart_(e)}).appendTo(g)}),this.$clipartItems=g.find(".form-image-clipart-item");(0,i.default)("<input>").addClass("form-image-clipart-filter").attr("placeholder","Find clipart").on("input",function(e){var t=(0,i.default)(e.currentTarget).val().toLowerCase().replace(/[^\w]+/g,"");t?r.$clipartItems.each(function(e,r){(0,i.default)(r).toggle((0,i.default)(r).attr("title").indexOf(t)>=0)}):r.$clipartItems.show()}).prependTo(_),(0,i.default)("<div>").addClass("form-image-clipart-attribution").html('\n              For clipart sources, visit\n              <a target="_blank"\n                 class="external-link"\n                 href="https://github.com/google/material-design-icons">\n              Material Design Icons on GitHub</a>\n              ').appendTo(_);c.clipart.click(function(e){r.setValueType_("clipart"),r.renderValueAndNotifyChanged_()});var v=(0,i.default)("<div>").addClass("form-subform form-image-type-params form-image-type-params-text is-hidden").appendTo(l),w=void 0;this.textForm_=new s.Form({id:this.form_.id_+"-"+this.id_+"-textform",container:v,fields:[new u.TextField("text",{title:"Text"}),w=new h.EnumField("font",{title:"Font",helpText:"From fonts.google.com"})]}),this.loadGoogleWebFontsList_().then(function(e){return w.setOptions([""].concat(e))});var b=p.Util.debounce(500,function(){return r.tryLoadWebFont_()});this.textForm_.onChange(function(){var e=r.textForm_.getValues();r.textParams_.text=e.text,r.textParams_.fontStack=e.font||"Roboto, sans-serif",b(),r.renderValueAndNotifyChanged_()}),c.text.click(function(e){r.setValueType_("text"),r.renderValueAndNotifyChanged_()})}if(this.params_.noTrimForm)this.spaceFormValues_={};else{var y=(0,i.default)("<div>").addClass("form-subform").appendTo(l);this.spaceFormValues_={},this.spaceForm_=new s.Form({id:this.form_.id_+"-"+this.id_+"-spaceform",container:y,fields:[this.spaceFormTrimField_=new f.BooleanField("trim",{title:"Trim whitespace",defaultValue:!0,offText:"Don't trim",onText:"Trim"}),this.spaceFormPaddingField_=new d.RangeField("pad",{title:"Padding",defaultValue:this.params_.defaultValuePadding||0,min:-.1,max:.5,step:.05,textFn:function(e){return(100*e).toFixed(0)+"%"}})]}),this.spaceForm_.onChange(function(){r.spaceFormValues_=r.spaceForm_.getValues(),r.renderValueAndNotifyChanged_()}),this.spaceFormValues_=this.spaceForm_.getValues()}this.params_.noPreview||(this.imagePreview_=(0,i.default)("<canvas>").addClass("form-image-preview").hide().appendTo(l.parent())),this.params_.defaultValueClipart&&setTimeout(function(){r.valueType_||r.loadClipart_(r.params_.defaultValueClipart)},0)}},{key:"setupDropTarget_",value:function(e){var t=this,r=this.params_.dropTarget?(0,i.default)(this.params_.dropTarget):(0,i.default)(e),a=void 0;r.addClass("form-field-drop-target").on("dragenter",function(e){e.preventDefault(),a&&(clearTimeout(a),a=null),r.addClass("drag-hover")}).on("dragleave",function(e){e.preventDefault(),a&&clearTimeout(a),a=setTimeout(function(){return r.removeClass("drag-hover")},100)}).on("dragover",function(e){e.preventDefault(),a&&(clearTimeout(a),a=null),e.originalEvent.dataTransfer.dropEffect="copy"}).on("drop",function(e){r.removeClass("drag-hover"),e.stopPropagation(),e.preventDefault(),t.loadImage_(e.originalEvent.dataTransfer.files)})}},{key:"loadImage_",value:function(e){var r=this;t.loadImageFromFileList(e).then(function(e){e&&(r.setValueType_("image"),r.imageParams_=e,r.imageFilename_=e.name.replace(/\.[^.]+?$/,""),r.renderValueAndNotifyChanged_())})}},{key:"loadGoogleWebFontsList_",value:function(){return new Promise(function(e,t){if("assetStudioWebFontsCache"in localStorage){var r=JSON.parse(localStorage.assetStudioWebFontsCache),a=r.fetchTime,n=r.fonts;if(Number(new Date)-a<36e5)return void e(n)}i.default.ajax({url:"https://www.googleapis.com/webfonts/v1/webfonts?key=AIzaSyAtSe8wlXPCUaLQ4LTyPKpbzBBPJAzEXmU&fields=items(family)",dataType:"json"}).then(function(t){var r=t.items.map(function(e){return e.family});localStorage.assetStudioWebFontsCache=JSON.stringify({fetchTime:Number(new Date),fonts:r}),e(r)},function(e){return t(e)})})}},{key:"tryLoadWebFont_",value:function(){var e=this,t=this.textForm_.getValues().font;this.loadedWebFont_!=t&&t&&l.default.load({google:{families:[t]},active:function(){e.loadedWebFont_=t,e.renderValueAndNotifyChanged_()}})}},{key:"setValueType_",value:function(e){this.valueType_=e,(0,i.default)("input",this.el_).prop("checked",!1),(0,i.default)(".form-image-type-params",this.el_.parent()).addClass("is-hidden"),e&&((0,i.default)("#"+this.getHtmlId()+"-"+e).prop("checked",!0),(0,i.default)(".form-image-type-params-"+e,this.el_.parent()).removeClass("is-hidden")),this.spaceForm_&&(this.spaceFormTrimField_.setEnabled(!0),this.spaceFormPaddingField_.setEnabled(!0),"clipart"==e?this.params_.clipartNoTrimPadding&&(this.spaceFormTrimField_.setEnabled(!1),this.spaceFormTrimField_.setValue(!1),this.spaceFormPaddingField_.setEnabled(!1),this.spaceFormPaddingField_.setValue(0)):"text"==e&&(this.spaceFormTrimField_.setEnabled(!1),this.spaceFormTrimField_.setValue(!0)))}},{key:"loadClipart_",value:function(e){this.$clipartItems.removeClass("is-selected"),this.$clipartItems.filter('[data-name="'+e+'"]').addClass("is-selected"),this.setValueType_("clipart"),this.clipartSrc_=e,this.renderValueAndNotifyChanged_()}},{key:"clearValue",value:function(){this.valueType_=null,this.valueCtx_=null,this.valueOrigImg_=null,this.fileEl_.val(""),this.imagePreview_&&this.imagePreview_.hide()}},{key:"getValue",value:function(){var e=null;switch(this.valueType_){case"image":e=this.imageFilename_;break;case"clipart":e=this.clipartSrc_;break;case"text":e=this.textParams_.text}return{ctx:this.valueCtx_,origImg:this.valueOrigImg_,type:this.valueType_,name:e}}},{key:"notifyChanged_",value:function(e,r){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"notifyChanged_",this).call(this,e,r),this.lastNotifiedValue_=Object.assign({},e)}},{key:"renderValueAndNotifyChanged_",value:function(){var e=this;if(!this.valueType_)return this.valueCtx_=null,this.valueOrigImg_=null,void this.notifyChanged_(this.getValue(),this.lastNotifiedValue_);this.renderTimeout_&&(clearTimeout(this.renderTimeout_),this.renderTimeout_=null),this.rendering_?this.renderTimeout_=setTimeout(function(){return e.renderValueAndNotifyChanged_()},100):(this.rendering_=!0,this.renderSource_().then(function(t){var r=t.ctx,a=t.size;e.computeTrimRect_(r,a).then(function(t){var a=e.spaceFormValues_.pad||0,n=Math.round(a*Math.min(t.w,t.h));(e.valueCtx_=_.Drawing.context({w:t.w+2*n,h:t.h+2*n}),e.valueCtx_.drawImage(r.canvas,t.x,t.y,t.w,t.h,n,n,t.w,t.h),e.imagePreview_)&&(e.imagePreview_.attr({width:e.valueCtx_.canvas.width,height:e.valueCtx_.canvas.height}),e.imagePreview_.get(0).getContext("2d").drawImage(e.valueCtx_.canvas,0,0),e.imagePreview_.show());e.rendering_=!1,e.notifyChanged_(e.getValue(),e.lastNotifiedValue_)})}).catch(function(t){console.error("Error: "+t),e.rendering_=!1,e.notifyChanged_(e.getValue(),e.lastNotifiedValue_)}))}},{key:"renderSource_",value:function(){var e=this;return new Promise(function(t,r){switch(e.valueType_){case"image":e.imageParams_.uri?p.Util.loadImageFromUri(e.imageParams_.uri).then(function(r){e.valueOrigImg_=r;var a={w:r.naturalWidth,h:r.naturalHeight},n=Object.assign({},a);e.imageParams_.isSvg&&e.params_.maxFinalSize&&(n.w/n.h>e.params_.maxFinalSize.w/e.params_.maxFinalSize.h?(n.w=e.params_.maxFinalSize.w,n.h=n.w*a.h/a.w):(n.h=e.params_.maxFinalSize.h,n.w=n.h*a.w/a.h));var o=_.Drawing.context(n);o.drawImage(r,0,0,a.w,a.h,0,0,n.w,n.h),t({ctx:o,size:n})}):r("no uri");break;case"clipart":var a={w:1536,h:1536},n=_.Drawing.context(a),o=e.clipartSrc_;n.fillStyle="#000",n.font=a.h+"px/"+a.h+"px 'Material Icons'",n.textBaseline="alphabetic",n.fillText(o,0,a.h),t({ctx:n,size:a});break;case"text":var i=.75*(a={w:6144,h:1536}).h;n=_.Drawing.context(a);o=" "+(o=e.textParams_.text||"")+" ",n.fillStyle="#000",n.font="bold "+i+"px/"+a.h+"px "+e.textParams_.fontStack,n.textBaseline="alphabetic",n.fillText(o,0,i),a.w=Math.ceil(Math.min(n.measureText(o).width,a.w)||a.w),t({ctx:n,size:a});break;default:r("No value type")}})}},{key:"computeTrimRect_",value:function(e,t){var r=this;return new Promise(function(a,n){r.spaceFormValues_.trim?(r.trimPromise_&&r.trimPromise_.worker&&r.trimPromise_.worker.terminate(),r.trimPromise_=_.Analysis.getTrimRect(e,t,1).then(function(e){var r=.01*Math.min(t.w,t.h);Object.assign(e,{x:Math.max(Math.floor(e.x-r),0),y:Math.max(Math.floor(e.y-r),0),w:Math.ceil(e.w+2*r),h:Math.ceil(e.h+2*r)}),e.w=Math.min(e.w,t.w-e.x),e.h=Math.min(e.h,t.h-e.y),a(e)}).catch(n)):a({x:0,y:0,w:t.w,h:t.h})})}},{key:"serializeValue",value:function(){var e={type:this.valueType_,clipart:"clipart"==this.valueType_?this.clipartSrc_:null,text:"text"==this.valueType_?this.textForm_.getValuesSerialized():null};return this.spaceForm_&&(e.space=this.spaceForm_.getValuesSerialized()),e}},{key:"deserializeValue",value:function(e){e.type&&this.setValueType_(e.type),e.space&&(this.spaceForm_.setValuesSerialized(e.space),this.spaceFormValues_=this.spaceForm_.getValues()),e.clipart&&"clipart"==this.valueType_&&this.loadClipart_(e.clipart),e.text&&"text"==this.valueType_&&(this.textForm_.setValuesSerialized(e.text),this.tryLoadWebFont_())}}]),t}();v.loadImageFromFileList=function(e){return new Promise(function(t,r){e=e||[];var a=Array.from(e).find(function(e){return v.isValidFile_(e)});if(!a)return alert("Please choose a valid image file (PNG, JPG, GIF, SVG, etc.)"),void t(null);var n="image/svg+xml"==a.type,o=new FileReader;o.onload=function(e){return t({isSvg:n,uri:e.target.result,name:a.name})},o.onerror=function(e){switch(e.target.error.code){case e.target.error.NOT_FOUND_ERR:alert("File not found!");break;case e.target.error.NOT_READABLE_ERR:alert("File is not readable");break;case e.target.error.ABORT_ERR:break;default:alert("An error occurred reading this file.")}t(null)},o.onabort=function(e){alert("File read cancelled"),t(null)},o.readAsDataURL(a)})},v.isValidFile_=function(e){return!!e.type.toLowerCase().match(/^image\//)},(0,i.default)(document).ready(function(){(0,i.default)(".cancel-parent-scroll").on("mousewheel DOMMouseScroll",function(e){var t=e.originalEvent.wheelDelta||-e.originalEvent.detail;e.currentTarget.scrollTop-=t,e.preventDefault()})})},500:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CLIPART_NAMES=["360","3d_rotation","4k","ac_unit","access_alarm","access_alarms","access_time","accessibility","accessibility_new","accessible","accessible_forward","account_balance","account_balance_wallet","account_box","account_circle","adb","add","add_a_photo","add_alarm","add_alert","add_box","add_circle","add_circle_outline","add_comment","add_location","add_photo_alternate","add_shopping_cart","add_to_home_screen","add_to_photos","add_to_queue","adjust","airline_seat_flat","airline_seat_flat_angled","airline_seat_individual_suite","airline_seat_legroom_extra","airline_seat_legroom_normal","airline_seat_legroom_reduced","airline_seat_recline_extra","airline_seat_recline_normal","airplanemode_active","airplanemode_inactive","airplay","airport_shuttle","alarm","alarm_add","alarm_off","alarm_on","album","all_inclusive","all_out","alternate_email","android","announcement","apps","archive","arrow_back","arrow_back_ios","arrow_downward","arrow_drop_down","arrow_drop_down_circle","arrow_drop_up","arrow_forward","arrow_forward_ios","arrow_left","arrow_right","arrow_right_alt","arrow_upward","art_track","aspect_ratio","assessment","assignment","assignment_ind","assignment_late","assignment_return","assignment_returned","assignment_turned_in","assistant","assistant_photo","atm","attach_file","attach_money","attachment","audiotrack","autorenew","av_timer","backspace","backup","ballot","bar_chart","battery_alert","battery_charging_full","battery_full","battery_std","battery_unknown","beach_access","beenhere","block","bluetooth","bluetooth_audio","bluetooth_connected","bluetooth_disabled","bluetooth_searching","blur_circular","blur_linear","blur_off","blur_on","book","bookmark","bookmark_border","bookmarks","border_all","border_bottom","border_clear","border_color","border_horizontal","border_inner","border_left","border_outer","border_right","border_style","border_top","border_vertical","branding_watermark","brightness_1","brightness_2","brightness_3","brightness_4","brightness_5","brightness_6","brightness_7","brightness_auto","brightness_high","brightness_low","brightness_medium","broken_image","brush","bubble_chart","bug_report","build","burst_mode","business","business_center","cached","cake","calendar_today","calendar_view_day","call","call_end","call_made","call_merge","call_missed","call_missed_outgoing","call_received","call_split","call_to_action","camera","camera_alt","camera_enhance","camera_front","camera_rear","camera_roll","cancel","cancel_presentation","card_giftcard","card_membership","card_travel","casino","cast","cast_connected","cast_for_education","category","cell_wifi","center_focus_strong","center_focus_weak","change_history","chat","chat_bubble","chat_bubble_outline","check","check_box","check_box_outline_blank","check_circle","check_circle_outline","chevron_left","chevron_right","child_care","child_friendly","chrome_reader_mode","class","clear","clear_all","close","closed_caption","cloud","cloud_circle","cloud_done","cloud_download","cloud_off","cloud_queue","cloud_upload","code","collections","collections_bookmark","color_lens","colorize","comment","commute","compare","compare_arrows","compass_calibration","computer","confirmation_number","contact_mail","contact_phone","contact_support","contacts","control_camera","content_copy","content_cut","content_paste","control_point","control_point_duplicate","copyright","create","create_new_folder","credit_card","crop","crop_16_9","crop_3_2","crop_5_4","crop_7_5","crop_din","crop_free","crop_landscape","crop_original","crop_portrait","crop_rotate","crop_square","dashboard","data_usage","date_range","dehaze","delete","delete_forever","delete_outline","delete_sweep","departure_board","description","desktop_mac","desktop_windows","details","developer_board","developer_mode","device_hub","device_unknown","devices","devices_other","dialer_sip","dialpad","directions","directions_bike","directions_boat","directions_bus","directions_car","directions_railway","directions_run","directions_subway","directions_transit","directions_walk","disc_full","dns","do_not_disturb","do_not_disturb_alt","do_not_disturb_off","do_not_disturb_on","dock","domain","domain_disabled","done","done_all","done_outline","donut_large","donut_small","drafts","drag_handle","drag_indicator","drive_eta","dvr","edit","edit_attributes","edit_location","eject","email","enhanced_encryption","equalizer","error","error_outline","euro_symbol","ev_station","event","event_available","event_busy","event_note","event_seat","exit_to_app","expand_less","expand_more","explicit","explore","explore_off","exposure","exposure_neg_1","exposure_neg_2","exposure_plus_1","exposure_plus_2","exposure_zero","extension","face","fast_forward","fast_rewind","fastfood","favorite","favorite_border","featured_play_list","featured_video","feedback","fiber_dvr","fiber_manual_record","fiber_new","fiber_pin","fiber_smart_record","file_copy","file_download","file_upload","filter","filter_1","filter_2","filter_3","filter_4","filter_5","filter_6","filter_7","filter_8","filter_9","filter_9_plus","filter_b_and_w","filter_center_focus","filter_drama","filter_frames","filter_hdr","filter_list","filter_none","filter_tilt_shift","filter_vintage","find_in_page","find_replace","fingerprint","first_page","fitness_center","flag","flare","flash_auto","flash_off","flash_on","flight","flight_land","flight_takeoff","flip","flip_to_back","flip_to_front","folder","folder_open","folder_shared","folder_special","font_download","format_align_center","format_align_justify","format_align_left","format_align_right","format_bold","format_clear","format_color_fill","format_color_reset","format_color_text","format_indent_decrease","format_indent_increase","format_italic","format_line_spacing","format_list_bulleted","format_list_numbered","format_list_numbered_rtl","format_paint","format_quote","format_shapes","format_size","format_strikethrough","format_textdirection_l_to_r","format_textdirection_r_to_l","format_underlined","forum","forward","forward_10","forward_30","forward_5","free_breakfast","fullscreen","fullscreen_exit","functions","g_translate","gamepad","games","gavel","gesture","get_app","gif","golf_course","gps_fixed","gps_not_fixed","gps_off","grade","gradient","grain","graphic_eq","grid_off","grid_on","group","group_add","group_work","hd","hdr_off","hdr_on","hdr_strong","hdr_weak","headset","headset_mic","healing","hearing","help","help_outline","high_quality","highlight","highlight_off","history","home","horizontal_split","hot_tub","hotel","hourglass_empty","hourglass_full","how_to_reg","how_to_vote","http","https","image","image_aspect_ratio","image_search","import_contacts","import_export","important_devices","inbox","indeterminate_check_box","info","info_outline","input","insert_chart","insert_chart_outlined","insert_comment","insert_drive_file","insert_emoticon","insert_invitation","insert_link","insert_photo","invert_colors","invert_colors_off","iso","keyboard","keyboard_arrow_down","keyboard_arrow_left","keyboard_arrow_right","keyboard_arrow_up","keyboard_backspace","keyboard_capslock","keyboard_hide","keyboard_return","keyboard_tab","keyboard_voice","kitchen","label","label_important","label_off","label_outline","landscape","language","laptop","laptop_chromebook","laptop_mac","laptop_windows","last_page","launch","layers","layers_clear","leak_add","leak_remove","lens","library_add","library_books","library_music","lightbulb_outline","line_style","line_weight","linear_scale","link","link_off","linked_camera","list","list_alt","live_help","live_tv","local_activity","local_airport","local_atm","local_bar","local_cafe","local_car_wash","local_convenience_store","local_dining","local_drink","local_florist","local_gas_station","local_grocery_store","local_hospital","local_hotel","local_laundry_service","local_library","local_mall","local_movies","local_offer","local_parking","local_pharmacy","local_phone","local_pizza","local_play","local_post_office","local_printshop","local_see","local_shipping","local_taxi","location_city","location_disabled","location_off","location_on","location_searching","lock","lock_open","lock_outline","looks","looks_3","looks_4","looks_5","looks_6","looks_one","looks_two","loop","loupe","low_priority","loyalty","mail","mail_outline","map","markunread","markunread_mailbox","maximize","meeting_room","memory","menu","merge_type","message","mic","mic_none","mic_off","minimize","missed_video_call","mms","mobile_friendly","mobile_off","mobile_screen_share","mode_comment","mode_edit","monetization_on","money","money_off","monochrome_photos","mood","mood_bad","more","more_horiz","more_vert","motorcycle","mouse","move_to_inbox","movie","movie_creation","movie_filter","multiline_chart","music_note","music_off","music_video","my_location","nature","nature_people","navigate_before","navigate_next","navigation","near_me","network_cell","network_check","network_locked","network_wifi","new_releases","next_week","nfc","no_encryption","no_meeting_room","no_sim","not_interested","not_listed_location","note","note_add","notes","notification_important","notifications","notifications_active","notifications_none","notifications_off","notifications_paused","offline_bolt","offline_pin","ondemand_video","opacity","open_in_browser","open_in_new","open_with","outlined_flag","pages","pageview","palette","pan_tool","panorama","panorama_fish_eye","panorama_horizontal","panorama_vertical","panorama_wide_angle","party_mode","pause","pause_circle_filled","pause_circle_outline","pause_presentation","payment","people","people_outline","perm_camera_mic","perm_contact_calendar","perm_data_setting","perm_device_information","perm_identity","perm_media","perm_phone_msg","perm_scan_wifi","person","person_add","person_add_disabled","person_outline","person_pin","person_pin_circle","personal_video","pets","phone","phone_android","phone_bluetooth_speaker","phone_callback","phone_forwarded","phone_in_talk","phone_iphone","phone_locked","phone_missed","phone_paused","phonelink","phonelink_erase","phonelink_lock","phonelink_off","phonelink_ring","phonelink_setup","photo","photo_album","photo_camera","photo_filter","photo_library","photo_size_select_actual","photo_size_select_large","photo_size_select_small","picture_as_pdf","picture_in_picture","picture_in_picture_alt","pie_chart","pie_chart_outlined","pin_drop","place","play_arrow","play_circle_filled","play_circle_outline","play_for_work","playlist_add","playlist_add_check","playlist_play","plus_one","poll","polymer","pool","portable_wifi_off","portrait","power","power_input","power_off","power_settings_new","pregnant_woman","present_to_all","print","print_disabled","priority_high","public","publish","query_builder","question_answer","queue","queue_music","queue_play_next","radio","radio_button_checked","radio_button_unchecked","rate_review","receipt","recent_actors","record_voice_over","redeem","redo","refresh","remove","remove_circle","remove_circle_outline","remove_from_queue","remove_red_eye","remove_shopping_cart","reorder","repeat","repeat_one","replay","replay_10","replay_30","replay_5","reply","reply_all","report","report_off","report_problem","restaurant","restaurant_menu","restore","restore_from_trash","restore_page","ring_volume","room","room_service","rotate_90_degrees_ccw","rotate_left","rotate_right","rounded_corner","router","rowing","rss_feed","rv_hookup","satellite","save","save_alt","scanner","scatter_plot","schedule","school","score","screen_lock_landscape","screen_lock_portrait","screen_lock_rotation","screen_rotation","screen_share","sd_card","sd_storage","search","security","select_all","send","sentiment_dissatisfied","sentiment_neutral","sentiment_satisfied","sentiment_satisfied_alt","sentiment_very_dissatisfied","sentiment_very_satisfied","settings","settings_applications","settings_backup_restore","settings_bluetooth","settings_brightness","settings_cell","settings_ethernet","settings_input_antenna","settings_input_component","settings_input_composite","settings_input_hdmi","settings_input_svideo","settings_overscan","settings_phone","settings_power","settings_remote","settings_system_daydream","settings_voice","share","shop","shop_two","shopping_basket","shopping_cart","short_text","show_chart","shuffle","shutter_speed","signal_cellular_4_bar","signal_cellular_alt","signal_cellular_connected_no_internet_4_bar","signal_cellular_no_sim","signal_cellular_null","signal_cellular_off","signal_wifi_4_bar","signal_wifi_4_bar_lock","signal_wifi_off","sim_card","sim_card_alert","skip_next","skip_previous","slideshow","slow_motion_video","smartphone","smoke_free","smoking_rooms","sms","sms_failed","snooze","sort","sort_by_alpha","spa","space_bar","speaker","speaker_group","speaker_notes","speaker_notes_off","speaker_phone","spellcheck","star","star_border","star_half","star_rate","stars","stay_current_landscape","stay_current_portrait","stay_primary_landscape","stay_primary_portrait","stop","stop_screen_share","storage","store","store_mall_directory","straighten","streetview","strikethrough_s","style","subdirectory_arrow_left","subdirectory_arrow_right","subject","subscriptions","subtitles","subway","supervised_user_circle","supervisor_account","surround_sound","swap_calls","swap_horiz","swap_horizontal_circle","swap_vert","swap_vertical_circle","switch_camera","switch_video","sync","sync_disabled","sync_problem","system_update","system_update_alt","tab","tab_unselected","table_chart","tablet","tablet_android","tablet_mac","tag_faces","tap_and_play","terrain","text_fields","text_format","text_rotate_up","text_rotate_vertical","text_rotation_down","text_rotation_none","textsms","texture","theaters","thumb_down","thumb_down_alt","thumb_up","thumb_up_alt","thumbs_up_down","time_to_leave","timelapse","timeline","timer","timer_10","timer_3","timer_off","title","toc","today","toll","tonality","touch_app","toys","track_changes","traffic","train","tram","transfer_within_a_station","transform","transit_enterexit","translate","trending_down","trending_flat","trending_up","trip_origin","tune","turned_in","turned_in_not","tv","tv_off","unarchive","undo","unfold_less","unfold_more","unsubscribe","update","usb","verified_user","vertical_align_bottom","vertical_align_center","vertical_align_top","vertical_split","vibration","video_call","video_label","video_library","videocam","videocam_off","videogame_asset","view_agenda","view_array","view_carousel","view_column","view_comfy","view_compact","view_day","view_headline","view_list","view_module","view_quilt","view_stream","view_week","vignette","visibility","visibility_off","voice_chat","voice_over_off","voicemail","volume_down","volume_mute","volume_off","volume_up","vpn_key","vpn_lock","wallpaper","warning","watch","watch_later","waves","wb_auto","wb_cloudy","wb_incandescent","wb_iridescent","wb_sunny","wc","web","web_asset","weekend","whatshot","where_to_vote","widgets","wifi","wifi_lock","wifi_off","wifi_tethering","work","work_off","work_outline","wrap_text","youtube_searched_for","zoom_in","zoom_out","zoom_out_map"]},501:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(237);Object.defineProperty(t,"Effects",{enumerable:!0,get:function(){return a.Effects}});var n=r(138);Object.defineProperty(t,"Drawing",{enumerable:!0,get:function(){return n.Drawing}});var o=r(502);Object.defineProperty(t,"Analysis",{enumerable:!0,get:function(){return o.Analysis}})},502:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Analysis=void 0;var _drawing=__webpack_require__(138),Analysis=exports.Analysis={};function runWorkerJs_(js,params,callback){var URL=window.URL||window.webkitURL||window.mozURL,Worker=window.Worker;if(URL&&Worker&&hasBlobConstructor_()){var bb=new Blob([js],{type:"text/javascript"}),worker=new Worker(URL.createObjectURL(bb));return worker.onmessage=function(e){callback(e.data)},worker.postMessage(params),worker}return function(){var __DUMMY_OBJECT__={},postMessage=function(e){callback(e)};eval("var self=__DUMMY_OBJECT__;\n"+js),__DUMMY_OBJECT__.onmessage({data:params})}(),{terminate:function(){}}}function hasBlobConstructor_(){try{return!!new Blob}catch(e){return!1}}Analysis.TRIM_RECT_WORKER_JS="\n    self.onmessage = function(event) {\n      var l = event.data.size.w, t = event.data.size.h, r = 0, b = 0;\n\n      var alpha;\n      for (var y = 0; y < event.data.size.h; y++) {\n        for (var x = 0; x < event.data.size.w; x++) {\n          alpha = event.data.imageData.data[\n              ((y * event.data.size.w + x) << 2) + 3];\n          if (alpha >= event.data.minAlpha) {\n            l = Math.min(x, l);\n            t = Math.min(y, t);\n            r = Math.max(x, r);\n            b = Math.max(y, b);\n          }\n        }\n      }\n\n      if (l > r) {\n        // no pixels, couldn't trim\n        postMessage({ x: 0, y: 0, w: event.data.size.w, h: event.data.size.h });\n        return;\n      }\n\n      postMessage({ x: l, y: t, w: r - l + 1, h: b - t + 1 });\n    };",Analysis.MAX_TRIM_SRC_SIZE=500,Analysis.getTrimRect=function(e,t,r){if(!e.canvas){var a=e;(e=_drawing.Drawing.context(t)).drawImage(a,0,0)}var n=1;if(t.w>Analysis.MAX_TRIM_SRC_SIZE||t.h>Analysis.MAX_TRIM_SRC_SIZE){n=t.w>Analysis.MAX_TRIM_SRC_SIZE?Analysis.MAX_TRIM_SRC_SIZE/t.w:Analysis.MAX_TRIM_SRC_SIZE/t.h;var o={w:t.w*n,h:t.h*n},i=_drawing.Drawing.context(o);i.drawImage(e.canvas,0,0,t.w,t.h,0,0,o.w,o.h),e=i,t=o}var l=void 0,s=new Promise(function(a,o){0==r&&a({x:0,y:0,w:t.w,h:t.h}),r=r||1,l=runWorkerJs_(Analysis.TRIM_RECT_WORKER_JS,{imageData:e.getImageData(0,0,t.w,t.h),size:t,minAlpha:r},function(e){e.x/=n,e.y/=n,e.w/=n,e.h/=n,a(e),l=null})});return Object.defineProperty(s,"worker",{get:function(){return l}}),s},Analysis.getCenterOfMass=function(e,t,r){return new Promise(function(a,n){if(!e.canvas){var o=e;(e=_drawing.Drawing.context(t)).drawImage(o,0,0)}0==r&&a({x:t.w/2,y:t.h/2}),r=r||1;t.w,t.h;for(var i=e.getImageData(0,0,t.w,t.h),l=0,s=0,c=0,u=0;u<t.h;u++)for(var d=0;d<t.w;d++)i.data[3+(u*t.w+d<<2)]>=r&&(l+=d,s+=u,++c);c<=0&&a({x:t.w/2,h:t.h/2}),a({x:Math.round(l/c),y:Math.round(s/c)})})}},503:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AppShortcutIconGenerator=void 0;var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(32)),o=r(65);var i={w:48,h:48},l={x:12,y:12,w:24,h:24};t.AppShortcutIconGenerator=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.BaseGenerator),a(t,[{key:"setupForm",value:function(){var e=this;(function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setupForm",this).call(this);var r=function(e){return"ic_shortcut_"+n.Util.sanitizeResourceName(e.name||"example")},a=void 0;this.form=new n.Form({id:"iconform",container:"#inputs-form",fields:[new n.ImageField("source",{title:"Source",helpText:"Must be transparent",maxFinalSize:{w:128,h:128},clipartNoTrimPadding:!0,defaultValueClipart:"search",dropTarget:document.body,onChange:function(e,t){a.getValue()==r(t)&&a.setValue(r(e))}}),a=new n.TextField("name",{newGroup:!0,title:"Name",helpText:"Used when generating ZIP files.",defaultValue:r({})}),new n.ColorField("foreColor",{title:"Color",defaultValue:"#448aff"}),new n.ColorField("backColor",{title:"Background color",defaultValue:"#f5f5f5"})]}),this.form.onChange(function(){return e.regenerateDebounced_()})}},{key:"regenerate",value:function(){var e=this,t=this.form.getValues();t.name=t.name||"ic_shortcut",this.zipper.clear(),this.zipper.setZipFilename(t.name+".zip"),this.densities.forEach(function(r){var a=n.Util.getMultBaseMdpi(r),o=n.Util.multRound(i,a),s=n.Drawing.context(o),c=n.Drawing.context(o);if(s.save(),s.beginPath(),s.arc(24*a,24*a,22*a,0,2*Math.PI),s.closePath(),t.backColor.setAlpha(1),s.fillStyle=t.backColor.toRgbString(),s.fill(),s.restore(),t.source.ctx){var u=t.source.ctx;n.Drawing.drawCenterInside(c,u,n.Util.mult(l,a),{x:0,y:0,w:u.canvas.width,h:u.canvas.height})}t.foreColor.setAlpha(1),n.Effects.fx([{effect:"fill-color",color:t.foreColor.toRgbString()}],s,c,o),e.zipper.add({name:"res/drawable-"+r+"/"+t.name+".png",canvas:s.canvas}),e.setImageForSlot_(r,s.canvas.toDataURL())})}},{key:"gridOverlaySvg",get:function(){return'<svg width="48" height="48" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">\n        <g fill="none" fill-rule="evenodd">\n            <rect vector-effect="non-scaling-stroke" x="12" y="12" width="24" height="24"/>\n        </g>\n    </svg>'}}]),t}()},504:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActionBarIconGenerator=void 0;var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=s(r(15)),o=s(r(86)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(32)),l=r(65);function s(e){return e&&e.__esModule?e:{default:e}}var c={w:24,h:24},u={x:0,y:0,w:24,h:24};t.ActionBarIconGenerator=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.BaseGenerator),a(t,[{key:"setupForm",value:function(){var e=this;(function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setupForm",this).call(this);var r=function(e){return"ic_action_"+i.Util.sanitizeResourceName(e.name||"example")},a=void 0,o=void 0;this.form=new i.Form({id:"iconform",container:"#inputs-form",fields:[new i.ImageField("source",{title:"Source",helpText:"Must be transparent",maxFinalSize:{w:128,h:128},clipartNoTrimPadding:!0,defaultValueClipart:"add_circle",dropTarget:document.body,onChange:function(e,t){a.getValue()==r(t)&&a.setValue(r(e))}}),a=new i.TextField("name",{newGroup:!0,title:"Name",helpText:"Used when generating ZIP files.",defaultValue:r({})}),new i.EnumField("theme",{title:"Theme",buttons:!0,options:[{id:"light",title:"Light"},{id:"dark",title:"Dark"},{id:"custom",title:"Custom"}],defaultValue:"light"}),o=new i.ColorField("color",{title:"Color",defaultValue:"rgba(33, 150, 243, .6)",alpha:!0})]}),this.form.onChange(function(t){var r=e.form.getValues();(0,n.default)(".outputs-panel").attr("data-theme",r.theme),o.setEnabled("custom"==r.theme),e.regenerateDebounced_()})}},{key:"regenerate",value:function(){var e=this,t=this.form.getValues();t.name=t.name||"ic_action",this.zipper.clear(),this.zipper.setZipFilename(t.name+".zip"),this.densities.forEach(function(r){var a=i.Util.getMultBaseMdpi(r),n=i.Util.multRound(c,a),l=i.Drawing.context(n),s=i.Drawing.context(n);if(t.source.ctx){var d=t.source.ctx;i.Drawing.drawCenterInside(s,d,i.Util.mult(u,a),{x:0,y:0,w:d.canvas.width,h:d.canvas.height})}var f=t.color;"light"==t.theme?f=(0,o.default)("rgba(0, 0, 0, .54)"):"dark"==t.theme&&(f=(0,o.default)("#fff"));var h=f.getAlpha();f.setAlpha(1),i.Effects.fx([{effect:"fill-color",color:f.toRgbString(),opacity:h}],l,s,n),f.setAlpha(h),e.zipper.add({name:"res/drawable-"+r+"/"+t.name+".png",canvas:l.canvas}),e.setImageForSlot_(r,l.canvas.toDataURL())})}},{key:"gridOverlaySvg",get:function(){return'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n        <g fill="none" fill-rule="evenodd">\n            <rect vector-effect="non-scaling-stroke" x="4" y="2" width="16" height="20" rx="2"/>\n            <rect vector-effect="non-scaling-stroke" x="3" y="3" width="18" height="18" rx="2"/>\n            <rect vector-effect="non-scaling-stroke" x="2" y="4" width="20" height="16" rx="2"/>\n            <circle vector-effect="non-scaling-stroke" cx="12" cy="12" r="5"/>\n            <circle vector-effect="non-scaling-stroke" cx="12" cy="12" r="10"/>\n            <path vector-effect="non-scaling-stroke" d="M0 24L24 0M0 0l24 24m-12 0V0M8 0v24m8-24v24m8-12H0m0 4h24M0 8h24"/>\n        </g>\n    </svg>'}}]),t}()},505:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NotificationIconGenerator=void 0;var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=function(e){return e&&e.__esModule?e:{default:e}}(r(15)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(32)),i=r(65);var l={w:24,h:24},s={x:1,y:1,w:22,h:22};t.NotificationIconGenerator=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.BaseGenerator),a(t,[{key:"setupForm",value:function(){var e=this;(function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setupForm",this).call(this),(0,n.default)(".outputs-panel").attr("data-theme","dark");var r=function(e){return"ic_stat_"+o.Util.sanitizeResourceName(e.name||"example")},a=void 0;this.form=new o.Form({id:"iconform",container:"#inputs-form",fields:[new o.ImageField("source",{title:"Source",helpText:"Must be transparent",maxFinalSize:{w:128,h:128},defaultValueClipart:"ac_unit",dropTarget:document.body,onChange:function(e,t){a.getValue()==r(t)&&a.setValue(r(e))}}),a=new o.TextField("name",{newGroup:!0,title:"Name",helpText:"Used when generating ZIP files.",defaultValue:r({})})]}),this.form.onChange(function(t){return e.regenerateDebounced_()})}},{key:"regenerate",value:function(){var e=this,t=this.form.getValues();t.name=t.name||"ic_stat",this.zipper.clear(),this.zipper.setZipFilename(t.name+".zip"),this.densities.forEach(function(r){var a=o.Util.getMultBaseMdpi(r),n=o.Util.multRound(l,a),i=o.Drawing.context(n),c=o.Drawing.context(n);if(t.source.ctx){var u=t.source.ctx;o.Drawing.drawCenterInside(c,u,o.Util.mult(s,a),{x:0,y:0,w:u.canvas.width,h:u.canvas.height})}o.Effects.fx([{effect:"fill-color",color:"#fff"}],i,c,n),e.zipper.add({name:"res/drawable-"+r+"/"+t.name+".png",canvas:i.canvas}),e.setImageForSlot_(r,i.canvas.toDataURL())})}}]),t}()},506:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GenericIconGenerator=void 0;var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(32)),o=r(65);t.GenericIconGenerator=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.BaseGenerator),a(t,[{key:"setupForm",value:function(){var e=this;(function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setupForm",this).call(this);var r=function(e){return"ic_"+n.Util.sanitizeResourceName(e.name||"example")},a=void 0;this.form=new n.Form({id:"iconform",container:"#inputs-form",fields:[new n.ImageField("source",{title:"Source",helpText:"Must be transparent",maxFinalSize:{w:720,h:720},defaultValueClipart:"ac_unit",dropTarget:document.body,onChange:function(e,t){a.getValue()==r(t)&&a.setValue(r(e))}}),new n.RangeField("size",{newGroup:!0,title:"Asset size",helpText:"Size of the final asset",min:4,max:200,defaultValue:32,textFn:function(e){return e+"dp"}}),new n.RangeField("padding",{title:"Asset padding",helpText:"Padding around the icon asset",defaultValue:8,textFn:function(e){return e+"dp"}}),new n.ColorField("color",{title:"Color",helpText:"Set to transparent to retain original colors",defaultValue:"rgba(0, 0, 0, 0.54)",alpha:!0}),a=new n.TextField("name",{title:"Name",helpText:"Used when generating ZIP files as the resource name.",defaultValue:r({})})]}),this.form.onChange(function(t){return e.regenerateDebounced_()})}},{key:"regenerate",value:function(){var e=this,t=this.form.getValues();t.name=t.name||"icon",this.zipper.clear(),this.zipper.setZipFilename(t.name+".zip"),this.densities.forEach(function(r){var a=n.Util.getMultBaseMdpi(r),o=t.size,i=Math.min(t.size/2-1,t.padding),l=n.Util.multRound({w:o,h:o},a),s=n.Util.multRound({x:i,y:i,w:o-2*i,h:o-2*i},a),c=n.Drawing.context(l),u=n.Drawing.context(l);if(t.source.ctx){var d=t.source.ctx;n.Drawing.drawCenterInside(u,d,s,{x:0,y:0,w:d.canvas.width,h:d.canvas.height})}var f=t.color,h=f.getAlpha();h>0?(f.setAlpha(1),n.Effects.fx([{effect:"fill-color",color:f.toRgbString(),opacity:h}],c,u,l),f.setAlpha(h)):c.drawImage(u.canvas,0,0),e.zipper.add({name:"res/drawable-"+r+"/"+t.name+".png",canvas:c.canvas}),e.setImageForSlot_(r,c.canvas.toDataURL())})}}]),t}()},507:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NinePatchGenerator=void 0;var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=function(e){return e&&e.__esModule?e:{default:e}}(r(15)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(32)),i=r(65),l=r(508),s=r(511),c=r(512);var u=new Set(["xxxhdpi","xxhdpi","xhdpi","hdpi","mdpi"]),d=[{id:"160",title:"mdpi<br><small>(160)</small>"},{id:"240",title:"hdpi<br><small>(240)</small>"},{id:"320",title:"xhdpi<br><small>(320)</small>"},{id:"480",title:"xxhdpi<br><small>(480)</small>"},{id:"640",title:"xxxhdpi<br><small>(640)</small>"}];document.location.search.indexOf("extradensities")>=0&&(u.add("ldpi"),u.add("tvdpi"));t.NinePatchGenerator=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.stage=new l.NinePatchStage,e.preview=new s.NinePatchPreview(e.stage),e.stage.onChange(function(){e.regenerate(),e.preview.redraw()}),e.setupOutputsPreviewTabs(),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.BaseGenerator),a(t,[{key:"setupOutputsPreviewTabs",value:function(){(0,n.default)(".outputs-preview-tabs input").on("change",function(e){(0,n.default)(".outputs-preview-sidebar").attr("data-view",(0,n.default)(e.currentTarget).val()),(0,n.default)(".outputs-preview-tabs input").prop("checked",!1),(0,n.default)(e.currentTarget).prop("checked",!0)})}},{key:"setupForm",value:function(){var e=this;(function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setupForm",this).call(this);var r=void 0;this.form=new o.Form({id:"ninepatchform",container:"#inputs-form",fields:[new o.ImageField("source",{title:"Source graphic",imageOnly:!0,noTrimForm:!0,noPreview:!0,dropTarget:document.body}),new o.EnumField("sourceDensity",{title:"Source density",buttons:!0,options:d,defaultValue:"320"}),r=new o.TextField("name",{title:"Drawable name",helpText:"Used when generating ZIP files. Becomes <code>&lt;name&gt;.9.png</code>.",defaultValue:"example"})]}),this.form.onChange(function(t){var a=e.form.getValues();if(t&&"source"!=t.id_)e.regenerate();else if(a.source){if(!a.source.ctx)return;var n=a.source,i={w:n.ctx.canvas.width,h:n.ctx.canvas.height};if(e.stage.name=n.name+"-"+i.w+"x"+i.h,n.name&&n.name.match(/\.9\.png$/i)?c.NinePatchLoader.loadNinePatchIntoStage(n.ctx,e.stage):e.stage.loadSourceImage(n.ctx),n.name){var l=o.Util.sanitizeResourceName(n.name);l!=r.getValue()&&r.setValue(l)}}else e.stage.loadSourceImage(null)})}},{key:"regenerate",value:function(){var e=this;if(this.stage.srcCtx){var t=this.form.getValues();t.name=t.name||"outline",this.zipper.clear(),this.zipper.setZipFilename(t.name+".9.zip"),this.densities.forEach(function(r){var a=o.Util.getDpiForDensity(r)/t.sourceDensity,n={w:Math.ceil(e.stage.srcSize.w*a)+2,h:Math.ceil(e.stage.srcSize.h*a)+2},i=o.Drawing.context(n);o.Drawing.drawImageScaled(i,e.stage.srcCtx,0,0,e.stage.srcSize.w,e.stage.srcSize.h,1,1,n.w-2,n.h-2),i.strokeStyle="#f00",i.lineWidth=1,i.beginPath(),i.moveTo(1,n.h-.5),i.lineTo(1+Math.floor(a*e.stage.opticalBoundsRect.x),n.h-.5),i.stroke(),i.moveTo(Math.ceil(a*(e.stage.opticalBoundsRect.x+e.stage.opticalBoundsRect.w))+1,n.h-.5),i.lineTo(n.w-1,n.h-.5),i.stroke(),i.moveTo(n.w-.5,1),i.lineTo(n.w-.5,1+Math.floor(a*e.stage.opticalBoundsRect.y)),i.stroke(),i.moveTo(n.w-.5,Math.ceil(a*(e.stage.opticalBoundsRect.y+e.stage.opticalBoundsRect.h))+1),i.lineTo(n.w-.5,n.h-1),i.stroke(),i.closePath(),i.strokeStyle="#000",i.beginPath(),i.moveTo(1+Math.floor(a*e.stage.stretchRect.x),.5),i.lineTo(1+Math.ceil(a*(e.stage.stretchRect.x+e.stage.stretchRect.w)),.5),i.stroke(),i.moveTo(.5,1+Math.floor(a*e.stage.stretchRect.y)),i.lineTo(.5,1+Math.ceil(a*(e.stage.stretchRect.y+e.stage.stretchRect.h))),i.stroke(),i.moveTo(1+Math.floor(a*e.stage.contentRect.x),n.h-.5),i.lineTo(1+Math.ceil(a*(e.stage.contentRect.x+e.stage.contentRect.w)),n.h-.5),i.stroke(),i.moveTo(n.w-.5,1+Math.floor(a*e.stage.contentRect.y)),i.lineTo(n.w-.5,1+Math.ceil(a*(e.stage.contentRect.y+e.stage.contentRect.h))),i.stroke(),i.closePath(),e.zipper.add({name:"res/drawable-"+r+"/"+t.name+".9.png",canvas:i.canvas}),e.setImageForSlot_(r,i.canvas.toDataURL())})}}},{key:"densities",get:function(){return u}}]),t}()},508:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NinePatchStage=void 0;var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=function(e){return e&&e.__esModule?e:{default:e}}(r(15)),o=r(509);var i={x:0,y:0,w:0,h:0};t.NinePatchStage=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.zoom=1,this.matteColor="light",this.editMode="stretch",this.stretchRect=Object.assign({},i),this.contentRect=Object.assign({},i),this.opticalBoundsRect=Object.assign({},i),this.name="default",this.changeListeners_=[],this.$stage=(0,n.default)(".nine-patch-stage"),this.$canvasContainer=(0,n.default)(".stage-canvas-container"),this.setupUi(),this.setupDragging(),(0,n.default)(window).on("resize",function(){t.relayout(),t.redrawOverlay()})}return a(e,[{key:"onChange",value:function(e){this.changeListeners_.push(e)}},{key:"notifyChange_",value:function(){this.changeListeners_.forEach(function(e){return e()})}},{key:"setupUi",value:function(){var e=this;this.$topLabel=(0,n.default)("<div>").addClass("canvas-label label-vertical").hide().appendTo("body"),this.$leftLabel=(0,n.default)("<div>").addClass("canvas-label label-horizontal").hide().appendTo("body"),this.$rightLabel=(0,n.default)("<div>").addClass("canvas-label label-horizontal").hide().appendTo("body"),this.$bottomLabel=(0,n.default)("<div>").addClass("canvas-label label-vertical").hide().appendTo("body"),(0,n.default)(".stage-which input").on("change",function(t){e.editMode=(0,n.default)(t.currentTarget).val(),(0,n.default)(".trim-button").toggle("stretch"==e.editMode),(0,n.default)(".find-region-button").text({stretch:"Auto-stretch",padding:"Auto-padding",opticalbounds:"Auto-bounds"}[e.editMode]),(0,n.default)(".stage-which input").prop("checked",!1),(0,n.default)(t.currentTarget).prop("checked",!0),e.redrawOverlay()}),(0,n.default)(".stage-matte-color input").on("change",function(t){e.matteColor=(0,n.default)(t.currentTarget).val(),(0,n.default)(document.body).attr("data-theme",e.matteColor),(0,n.default)(".stage-matte-color input").prop("checked",!1),(0,n.default)(t.currentTarget).prop("checked",!0),e.redrawImage()}),(0,n.default)(".trim-edge-button").click(function(){return o.NinePatchTrimming.trimEdges(e)}),(0,n.default)(".trim-stretch-button").click(function(){return o.NinePatchTrimming.trimStretchRegion(e)}),(0,n.default)(".find-region-button").click(function(){var t=o.NinePatchTrimming.detectRegion(e,e.editMode);t&&("stretch"==e.editMode?e.stretchRect=t:"opticalbounds"==e.editMode?e.opticalBoundsRect=t:"padding"==e.editMode&&(e.contentRect=t),e.saveRects(),e.redrawOverlay(),e.notifyChange_())})}},{key:"setupDragging",value:function(){var e=this,t=void 0,r=void 0,a=function(){return{stretch:e.stretchRect,padding:e.contentRect,opticalbounds:e.opticalBoundsRect}[e.editMode]};this.$canvasContainer.on("mousedown",function(a){e.dragging=!0,e.redrawOverlay(),(0,n.default)(window).on("mouseup",t).on("mousemove",r)}).on("mousemove",function(t){if(e.$imageCanvas&&!e.dragging){var r=a(),n=e.$canvasContainer.offset(),o=t.pageX-n.left,i=t.pageY-n.top;e.editLeft=e.editRight=e.editTop=e.editBottom=!1,o>=r.x*e.zoom-10&&o<=r.x*e.zoom+10?e.editLeft=!0:o>=(r.x+r.w)*e.zoom-10&&o<=(r.x+r.w)*e.zoom+10&&(e.editRight=!0),i>=r.y*e.zoom-10&&i<=r.y*e.zoom+10?e.editTop=!0:i>=(r.y+r.h)*e.zoom-10&&i<=(r.y+r.h)*e.zoom+10&&(e.editBottom=!0);var l="default";e.editLeft?l=e.editTop?"nw-resize":e.editBottom?"sw-resize":"w-resize":e.editRight?l=e.editTop?"ne-resize":e.editBottom?"se-resize":"e-resize":e.editTop?l="n-resize":e.editBottom&&(l="s-resize"),e.$canvasContainer.css("cursor",l)}}),t=function(a){e.dragging&&(e.dragging=!1,e.redrawOverlay(),e.saveRects()),(0,n.default)(window).off("mousemove",r).off("mouseup",t)},r=function(t){t.preventDefault(),t.stopPropagation();var r=a(),n=e.$canvasContainer.offset(),o=t.pageX-n.left,i=t.pageY-n.top;if(e.editLeft){var l=Math.max(0,Math.min(r.x+r.w-1,Math.round(o/e.zoom)));r.w=r.w+r.x-l,r.x=l}if(e.editTop){var s=Math.max(0,Math.min(r.y+r.h-1,Math.round(i/e.zoom)));r.h=r.h+r.y-s,r.y=s}e.editRight&&(r.w=Math.min(e.srcSize.w-r.x,Math.max(1,Math.round(o/e.zoom)-r.x))),e.editBottom&&(r.h=Math.min(e.srcSize.h-r.y,Math.max(1,Math.round(i/e.zoom)-r.y))),e.redrawOverlay(),e.notifyChange_()}}},{key:"loadSourceImage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.$canvasContainer.empty(),(0,n.default)(".editor-button").attr("disabled",e?null:"disabled"),e){this.srcCtx=e;var r,a={w:this.srcCtx.canvas.width,h:this.srcCtx.canvas.height};r=!this.srcSize||this.srcSize.w!=a.w||this.srcSize.h!=a.h,this.srcSize=a,r&&(this.stretchRect=t.stretchRect||{x:Math.floor(this.srcSize.w/3),y:Math.floor(this.srcSize.h/3),w:Math.ceil(this.srcSize.w/3),h:Math.ceil(this.srcSize.h/3)},this.contentRect=t.contentRect||{x:0,y:0,w:this.srcSize.w,h:this.srcSize.h},this.opticalBoundsRect=t.opticalBoundsRect||{x:0,y:0,w:this.srcSize.w,h:this.srcSize.h}),t.stretchRect||this.loadLastRects(),this.$imageCanvas=(0,n.default)("<canvas>").attr({width:this.srcSize.w,height:this.srcSize.h}).appendTo(this.$canvasContainer),this.$overlayCanvas=(0,n.default)("<canvas>").addClass("overlay").appendTo(this.$canvasContainer),this.relayout(),this.redrawImage(),this.redrawOverlay(),this.notifyChange_()}}},{key:"relayout",value:function(){if(this.$imageCanvas){var e=Math.floor(this.$stage.width()/this.srcSize.w),t=Math.floor(this.$stage.height()/this.srcSize.h);this.zoom=Math.max(1,Math.min(e,t)),this.zoomedSize={w:this.srcSize.w*this.zoom,h:this.srcSize.h*this.zoom},this.$imageCanvas.css({width:this.zoomedSize.w,height:this.zoomedSize.h}),this.$overlayCanvas.attr({width:this.zoomedSize.w,height:this.zoomedSize.h})}}},{key:"redrawImage",value:function(){if(this.$imageCanvas){var e=this.$imageCanvas.get(0).getContext("2d");e.fillStyle="light"==this.matteColor?"#eee":"#555",e.fillRect(0,0,this.srcSize.w,this.srcSize.h),e.drawImage(this.srcCtx.canvas,0,0)}}},{key:"redrawOverlay",value:function(){if(this.srcCtx){var e={stretch:this.stretchRect,padding:this.contentRect,opticalbounds:this.opticalBoundsRect}[this.editMode],t=this.$overlayCanvas.get(0).getContext("2d");if(t.clearRect(0,0,this.zoomedSize.w,this.zoomedSize.h),t.save(),e===this.stretchRect?(t.beginPath(),t.moveTo(0,e.y*this.zoom+.5),t.lineTo(this.zoomedSize.w,e.y*this.zoom+.5),t.moveTo(0,(e.y+e.h)*this.zoom-.5),t.lineTo(this.zoomedSize.w,(e.y+e.h)*this.zoom-.5),t.moveTo(e.x*this.zoom+.5,0),t.lineTo(e.x*this.zoom+.5,this.zoomedSize.h),t.moveTo((e.x+e.w)*this.zoom-.5,0),t.lineTo((e.x+e.w)*this.zoom-.5,this.zoomedSize.h)):(t.beginPath(),t.rect(e.x*this.zoom+.5,e.y*this.zoom+.5,e.w*this.zoom-1,e.h*this.zoom-1),t.closePath()),this.dragging?(t.strokeStyle="rgba(255, 255, 255, 1)",t.lineWidth=3,t.stroke(),t.strokeStyle="rgba(255, 23, 68, 1)",t.lineWidth=1,t.stroke()):(t.strokeStyle="rgba(255, 255, 255, .5)",t.lineWidth=3,t.stroke(),t.strokeStyle="rgba(0, 0, 0, .5)",t.setLineDash([3,3]),t.lineWidth=1,t.stroke()),t.restore(),this.dragging){var r=this.$canvasContainer.offset();this.$leftLabel.text(e.x).css({left:r.left,width:e.x*this.zoom,top:r.top+(e.y+e.h/2)*this.zoom}).show(),this.$rightLabel.text(this.srcSize.w-e.x-e.w).css({left:r.left+(e.x+e.w)*this.zoom,width:(this.srcSize.w-e.x-e.w)*this.zoom,top:r.top+(e.y+e.h/2)*this.zoom}).show(),this.$topLabel.text(e.y).css({top:r.top,height:e.y*this.zoom,left:r.left+(e.x+e.w/2)*this.zoom}).show(),this.$bottomLabel.text(this.srcSize.h-e.y-e.h).css({top:r.top+(e.y+e.h)*this.zoom,height:(this.srcSize.h-e.y-e.h)*this.zoom,left:r.left+(e.x+e.w/2)*this.zoom}).show()}else this.$topLabel.hide(),this.$leftLabel.hide(),this.$rightLabel.hide(),this.$bottomLabel.hide()}}},{key:"saveRects",value:function(){localStorage[this.localStorageKey]=JSON.stringify({stretchRect:this.stretchRect,contentRect:this.contentRect,opticalBoundsRect:this.opticalBoundsRect})}},{key:"loadLastRects",value:function(){try{var e=JSON.parse(localStorage[this.localStorageKey]);e.stretchRect&&e.contentRect&&e.opticalBoundsRect&&(this.stretchRect=l(e.stretchRect,this.srcSize),this.contentRect=l(e.contentRect,this.srcSize),this.opticalBoundsRect=l(e.opticalBoundsRect,this.srcSize))}catch(e){}}},{key:"localStorageKey",get:function(){return"assetStudioNinePatchStage-"+this.name}}]),e}();function l(e,t){var r={};return r.x=Math.max(0,e.x),r.y=Math.max(0,e.y),r.w=Math.min(t.w-e.x,e.w),r.h=Math.min(t.h-e.y,e.h),r}},509:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NinePatchTrimming=void 0;var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(32)),n=r(510);t.NinePatchTrimming={trimEdges:function(e){if(e.srcCtx){var t=e.srcCtx.getImageData(0,0,e.srcSize.w,e.srcSize.h),r=o(e,t,0,0),n={l:0,t:0,r:0,b:0},l=void 0,s=void 0;e:for(s=0;s<e.srcSize.h;s++)for(l=0;l<e.srcSize.w;l++)if(o(e,t,l,s)!=r)break e;n.t=s;e:for(l=0;l<e.srcSize.w;l++)for(s=0;s<e.srcSize.h;s++)if(o(e,t,l,s)!=r)break e;n.l=l;e:for(s=e.srcSize.h-1;s>=0;s--)for(l=0;l<e.srcSize.w;l++)if(o(e,t,l,s)!=r)break e;n.b=e.srcSize.h-s-1;e:for(l=e.srcSize.w-1;l>=0;l--)for(s=0;s<e.srcSize.h;s++)if(o(e,t,l,s)!=r)break e;if(n.r=e.srcSize.w-l-1,!(n.l<=0&&n.t<=0&&n.r<=0&&n.b<=0)){var c={w:e.srcSize.w-n.l-n.r,h:e.srcSize.h-n.t-n.b},u={contentRect:i(c,{x:e.contentRect.x-n.l,y:e.contentRect.y-n.t,w:e.contentRect.w,h:e.contentRect.h}),stretchRect:i(c,{x:e.stretchRect.x-n.l,y:e.stretchRect.y-n.t,w:e.stretchRect.w,h:e.stretchRect.h}),opticalBoundsRect:i(c,{x:e.opticalBoundsRect.x-n.l,y:e.opticalBoundsRect.y-n.t,w:e.opticalBoundsRect.w,h:e.opticalBoundsRect.h})};e.name=e.name+"-EDGES_TRIMMED";var d=a.Drawing.context(c);d.drawImage(e.srcCtx.canvas,n.l,n.t,c.w,c.h,0,0,c.w,c.h),e.loadSourceImage(d,u)}}},trimStretchRegion:function(e){if(e.srcCtx){var t=e.srcCtx.getImageData(0,0,e.srcSize.w,e.srcSize.h),r=e.stretchRect.w>4,i=e.stretchRect.h>4,l=void 0,s=void 0,c=new n.Summer,u=!0,d=-1;for(l=e.stretchRect.x;l<e.stretchRect.x+e.stretchRect.w;l++){for(c.reset(),s=0;s<e.srcSize.h;s++)c.addNext(o(e,t,l,s));if(u)d=c.compute(),u=!1;else if(c.compute()!=d){r=!1;break}}for(u=!0,s=e.stretchRect.y;s<e.stretchRect.y+e.stretchRect.h;s++){for(c.reset(),l=0;l<e.srcSize.w;l++)c.addNext(o(e,t,l,s));if(u)d=c.compute(),u=!1;else if(c.compute()!=d){i=!1;break}}if(r||i){var f={l:e.stretchRect.x,t:e.stretchRect.y,r:e.srcSize.w-e.stretchRect.x-e.stretchRect.w,b:e.srcSize.h-e.stretchRect.y-e.stretchRect.h},h={w:r?4:e.stretchRect.w,h:i?4:e.stretchRect.h},p={w:f.l+h.w+f.r,h:f.t+h.h+f.b},_=a.Drawing.context(p);f.l&&f.t&&_.drawImage(e.srcCtx.canvas,0,0,f.l,f.t,0,0,f.l,f.t),f.l&&f.b&&_.drawImage(e.srcCtx.canvas,0,e.srcSize.h-f.b,f.l,f.b,0,p.h-f.b,f.l,f.b),f.r&&f.t&&_.drawImage(e.srcCtx.canvas,e.srcSize.w-f.r,0,f.r,f.t,p.w-f.r,0,f.r,f.t),f.r&&f.b&&_.drawImage(e.srcCtx.canvas,e.srcSize.w-f.r,e.srcSize.h-f.b,f.r,f.b,p.w-f.r,p.h-f.b,f.r,f.b),f.t&&_.drawImage(e.srcCtx.canvas,f.l,0,e.stretchRect.w,f.t,f.l,0,p.w-f.l-f.r,f.t),f.l&&_.drawImage(e.srcCtx.canvas,0,f.t,f.l,e.stretchRect.h,0,f.t,f.l,p.h-f.t-f.b),f.r&&_.drawImage(e.srcCtx.canvas,e.srcSize.w-f.r,f.t,f.r,e.stretchRect.h,p.w-f.r,f.t,f.r,p.h-f.t-f.b),f.b&&_.drawImage(e.srcCtx.canvas,f.l,e.srcSize.h-f.b,e.stretchRect.w,f.b,f.l,p.h-f.b,p.w-f.l-f.r,f.b),_.drawImage(e.srcCtx.canvas,f.l,f.t,e.stretchRect.w,e.stretchRect.h,f.l,f.t,p.w-f.l-f.r,p.h-f.t-f.b);var m={stretchRect:{x:e.stretchRect.x,y:e.stretchRect.y,w:h.w,h:h.h},contentRect:{x:e.contentRect.x,y:e.contentRect.y,w:e.contentRect.w+h.w-e.stretchRect.w,h:e.contentRect.h+h.h-e.stretchRect.h},opticalBoundsRect:{x:e.opticalBoundsRect.x,y:e.opticalBoundsRect.y,w:e.opticalBoundsRect.w+h.w-e.stretchRect.w,h:e.opticalBoundsRect.h+h.h-e.stretchRect.h}};e.name=e.name+"-STRETCH_TRIMMED",e.loadSourceImage(_,m)}}},detectRegion:function(e,t){if(!e.srcCtx)return null;var r=e.srcCtx.getImageData(0,0,e.srcSize.w,e.srcSize.h),a=void 0,i=void 0,s=[];for(a=0;a<e.srcSize.w;a++)for(i=0;i<e.srcSize.h;i++){var c=r.data[4*(i*e.srcSize.w+a)+3];s[c]=s[c]?s[c]+1:1}for(var u=0,d=0,f=0,h=0,p=0;p<256;p++)s[p]>d?(f=u,h=d,u=p,d=s[p]):s[p]>h&&(f=p,h=s[p]);var _=u>f?u:f,m={l:-1,r:-1,t:-1,b:-1};e:for(a=0;a<e.srcSize.w;a++)for(i=0;i<e.srcSize.h;i++){if(r.data[4*(i*e.srcSize.w+a)+3]>=_-5){m.l=a;break e}}e:for(a=e.srcSize.w-1;a>=0;a--)for(i=0;i<e.srcSize.h;i++){if(r.data[4*(i*e.srcSize.w+a)+3]>=_-5){m.r=a;break e}}e:for(i=0;i<e.srcSize.h;i++)for(a=0;a<e.srcSize.w;a++){if(r.data[4*(i*e.srcSize.w+a)+3]>=_-5){m.t=i;break e}}e:for(i=e.srcSize.h-1;i>=0;i--)for(a=0;a<e.srcSize.w;a++){if(r.data[4*(i*e.srcSize.w+a)+3]>=_-5){m.b=i;break e}}if(m.l>=0&&m.r>m.l&&m.t>=0&&m.b>m.t){var g={x:m.l,y:m.t,w:m.r-m.l+1,h:m.b-m.t+1};if("opticalbounds"==t||"padding"==t)return g}if("stretch"==t){var v=Object.assign({},e.stretchRect),w=new n.Summer,b=[];for(i=0;i<e.srcSize.h;i++){w.reset();for(var y=0;y<e.srcSize.w;y++)w.addNext(o(e,r,y,i));b.push(w.compute())}for(var x=l(b),k=0;k<x.length;k++){var O=x[k],S=!1;for(a=0;a<e.srcSize.w;a++){if(r.data[4*(O.start*e.srcSize.w+a)+3]>=_-5){S=!0;break}}if(S){v.y=O.start,v.h=O.length,O.length>=4&&(v.y++,v.h-=2);break}}for(w.reset(),b=[],a=0;a<e.srcSize.w;a++){for(w.reset(),i=0;i<e.srcSize.h;i++)w.addNext(o(e,r,a,i));b.push(w.compute())}x=l(b);for(var z=0;z<x.length;z++){var C=x[z],R=!1;for(i=0;i<e.srcSize.h;i++){if(r.data[4*(i*e.srcSize.w+C.start)+3]>=_-5){R=!0;break}}if(R){v.x=C.start,v.w=C.length,C.length>=4&&(v.x++,v.w-=2);break}}return v}return null}};function o(e,t,r,a){return(t.data[4*(a*e.srcSize.w+r)+0]<<16)+(t.data[4*(a*e.srcSize.w+r)+1]<<8)+(t.data[4*(a*e.srcSize.w+r)+2]<<0)+(t.data[4*(a*e.srcSize.w+r)+3]<<24)}function i(e,t){return t.x<0&&(t.w+=t.x,t.x+=-t.x),t.x+t.w>e.w&&(t.w=e.w-t.x),t.y<0&&(t.h+=t.y,t.y+=-t.y),t.y+t.h>e.h&&(t.h=e.h-t.y),t}function l(e){for(var t=[],r=-1,a=0,n=0;n<e.length;n++)r<0?(r=n,a=e[n]):e[n]!=a&&(r!=n-1&&t.push({start:r,length:n-r}),r=n,a=e[n]);return r!=e.length-1&&t.push({start:r,length:e.length-r}),t.sort(function(e,t){return t.length-e.length})}},510:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}();var n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.reset()}return a(e,[{key:"reset",value:function(){this._a=1,this._b=0,this._index=0}},{key:"addNext",value:function(e){this._a=(this._a+e)%65521,this._b=(this._b+this._a)%65521}},{key:"compute",value:function(){return this._b<<16|this._a}}]),e}();t.Summer=n},511:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NinePatchPreview=void 0;var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=function(e){return e&&e.__esModule?e:{default:e}}(r(15));t.NinePatchPreview=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.stage=t,this.size={w:200,h:200},this.setupUi(),this.redraw()}return a(e,[{key:"setupUi",value:function(){var e=this,t=void 0,r=void 0,a=void 0,o=void 0,i=function(n){e.size.w=Math.max(1,t+2*(n.pageX-a)),e.size.h=Math.max(1,r+2*(n.pageY-o)),e.redraw()},l=function e(t){(0,n.default)(window).off("mousemove",i).off("mouseup",e)};(0,n.default)(".preview-area").on("mousedown",function(s){t=e.size.w,r=e.size.h,a=s.pageX,o=s.pageY,(0,n.default)(window).on("mousemove",i).on("mouseup",l)}),(0,n.default)("#preview-with-content").click(function(e){return(0,n.default)(".text-preview").toggle((0,n.default)(e.currentTarget).is(":checked"))})}},{key:"redraw",value:function(){var e=(0,n.default)(".preview-area canvas").get(0);if(e.width=this.size.w,e.height=this.size.h,this.stage.srcCtx){var t=e.getContext("2d"),r={l:this.stage.stretchRect.x,t:this.stage.stretchRect.y,r:this.stage.srcSize.w-this.stage.stretchRect.x-this.stage.stretchRect.w,b:this.stage.srcSize.h-this.stage.stretchRect.y-this.stage.stretchRect.h};r.l&&r.t&&t.drawImage(this.stage.srcCtx.canvas,0,0,r.l,r.t,0,0,r.l,r.t),r.l&&r.b&&t.drawImage(this.stage.srcCtx.canvas,0,this.stage.srcSize.h-r.b,r.l,r.b,0,this.size.h-r.b,r.l,r.b),r.r&&r.t&&t.drawImage(this.stage.srcCtx.canvas,this.stage.srcSize.w-r.r,0,r.r,r.t,this.size.w-r.r,0,r.r,r.t),r.r&&r.b&&t.drawImage(this.stage.srcCtx.canvas,this.stage.srcSize.w-r.r,this.stage.srcSize.h-r.b,r.r,r.b,this.size.w-r.r,this.size.h-r.b,r.r,r.b),r.t&&t.drawImage(this.stage.srcCtx.canvas,r.l,0,this.stage.stretchRect.w,r.t,r.l,0,this.size.w-r.l-r.r,r.t),r.l&&t.drawImage(this.stage.srcCtx.canvas,0,r.t,r.l,this.stage.stretchRect.h,0,r.t,r.l,this.size.h-r.t-r.b),r.r&&t.drawImage(this.stage.srcCtx.canvas,this.stage.srcSize.w-r.r,r.t,r.r,this.stage.stretchRect.h,this.size.w-r.r,r.t,r.r,this.size.h-r.t-r.b),r.b&&t.drawImage(this.stage.srcCtx.canvas,r.l,this.stage.srcSize.h-r.b,this.stage.stretchRect.w,r.b,r.l,this.size.h-r.b,this.size.w-r.l-r.r,r.b),t.drawImage(this.stage.srcCtx.canvas,r.l,r.t,this.stage.stretchRect.w,this.stage.stretchRect.h,r.l,r.t,this.size.w-r.l-r.r,this.size.h-r.t-r.b),(0,n.default)(".preview-area .text-preview").css({left:this.stage.contentRect.x+"px",top:this.stage.contentRect.y+"px",width:this.size.w-this.stage.srcSize.w+this.stage.contentRect.w+"px",height:this.size.h-this.stage.srcSize.h+this.stage.contentRect.h+"px"})}}}]),e}()},512:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NinePatchLoader=void 0;var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(32));var n=function(e,t,r,a){return(e<<16)+(t<<8)+(r<<0)+(a<<24)},o=n(0,0,0,255),i=n(255,0,0,255);t.NinePatchLoader={loadNinePatchIntoStage:function(e,t){var r={w:e.canvas.width,h:e.canvas.height},n=e.getImageData(0,0,r.w,r.h),l={w:r.w-2,h:r.h-2},s={contentRect:{x:0,y:0,w:l.w,h:l.h},stretchRect:{x:0,y:0,w:l.w,h:l.h},opticalBoundsRect:{x:0,y:0,w:l.w,h:l.h}};function c(e,t){return(n.data[4*(t*r.w+e)+0]<<16)+(n.data[4*(t*r.w+e)+1]<<8)+(n.data[4*(t*r.w+e)+2]<<0)+(n.data[4*(t*r.w+e)+3]<<24)}var u=void 0;u=!1;for(var d=0;d<l.w;d++){var f=c(d+1,0);u||f!=o?u&&f!=o&&(s.stretchRect.w=d-s.stretchRect.x,u=!1):(s.stretchRect.x=d,u=!0)}u=!1;for(var h=0;h<l.h;h++){var p=c(0,h+1);u||p!=o?u&&p!=o&&(s.stretchRect.h=h-s.stretchRect.y,u=!1):(s.stretchRect.y=h,u=!0)}u=!1;for(var _=0;_<l.w;_++){var m=c(_+1,r.h-1);u||m!=o?u&&m!=o&&(s.contentRect.w=_-s.contentRect.x,u=!1):(s.contentRect.x=_,u=!0)}u=!1;for(var g=0;g<l.h;g++){var v=c(r.w-1,g+1);u||v!=o?u&&v!=o&&(s.contentRect.h=g-s.contentRect.y,u=!1):(s.contentRect.y=g,u=!0)}u=!1;for(var w=0;w<l.w;w++){var b=c(w+1,r.h-1);u||b==i?u&&b==i&&(s.opticalBoundsRect.w=w-s.opticalBoundsRect.x,u=!1):(s.opticalBoundsRect.x=w,u=!0)}for(var y=0;y<l.h;y++){var x=c(r.w-1,y+1);u||x==i?u&&x==i&&(s.opticalBoundsRect.h=y-s.opticalBoundsRect.y,u=!1):(s.opticalBoundsRect.y=y,u=!0)}var k=a.Drawing.context(l);k.drawImage(e.canvas,1,1,l.w,l.h,0,0,l.w,l.h),t.loadSourceImage(k,s)}}},64:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Field=void 0;var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=function(e){return e&&e.__esModule?e:{default:e}}(r(15));t.Field=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id_=t,this.params_=r,this.params_.onChange&&this.onChange(this.params_.onChange),this.enabled_=!0}return a(e,[{key:"setForm_",value:function(e){var t=this;this.form_=e,this.onChange(function(e,r){t.form_.notifyChanged_(t,e,r)})}},{key:"getLongId",value:function(){return this.form_.id_+"-"+this.id_}},{key:"getHtmlId",value:function(){return"_frm-"+this.getLongId()}},{key:"createUi",value:function(e){return e=(0,n.default)(e),this.baseEl_=(0,n.default)("<div>").addClass("form-field-outer").addClass(this.params_.newGroup?"is-new-group":"").append((0,n.default)("<label>").attr("for",this.getHtmlId()).text(this.params_.title).append((0,n.default)("<div>").addClass("form-field-help-text").css("display",this.params_.helpText?"":"none").html(this.params_.helpText))).append((0,n.default)("<div>").addClass("form-field-container")).appendTo(e),this.baseEl_}},{key:"getEnabled",value:function(){return this.enabled_}},{key:"setEnabled",value:function(e){this.enabled_=e,this.baseEl_&&(e?this.baseEl_.removeAttr("disabled"):this.baseEl_.attr("disabled","disabled"))}},{key:"onChange",value:function(e){this.changeListeners_=(this.changeListeners_||[]).concat([e])}},{key:"notifyChanged_",value:function(e,t){(this.changeListeners_||[]).forEach(function(r){return r(e,t)})}}]),e}()},65:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseGenerator=void 0;var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=function(e){return e&&e.__esModule?e:{default:e}}(r(15)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(32));var i=new Set(["xxxhdpi","xxhdpi","xhdpi","hdpi","mdpi"]),l=200;t.BaseGenerator=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.regenerateDebounced_=o.Util.debounce(l,function(){return t.regenerate()}),this.setupZipper(),this.setupOutputUi(),this.setupOutputSlots(),this.setupForm(),o.Hash.bindFormToDocumentHash(this.form),setTimeout(function(){return t.regenerate()},0)}return a(e,[{key:"setupZipper",value:function(){this.zipper=o.Zip.createDownloadifyZipButton((0,n.default)("#download-zip-button"))}},{key:"setupOutputUi",value:function(){if(this.gridOverlaySvg){var e=!("assetStudioShowGrid"in localStorage)||"true"===localStorage.assetStudioShowGrid;(0,n.default)("#grid-toggle").prop("checked",e),(0,n.default)(".outputs-panel").toggleClass("show-grid",e),(0,n.default)("#grid-toggle").click(function(e){var t=(0,n.default)(e.currentTarget).is(":checked");localStorage.assetStudioShowGrid=String(t),(0,n.default)(".outputs-panel").toggleClass("show-grid",t)})}else(0,n.default)("#grid-toggle-container").hide();(0,n.default)(".outputs-additional-toggle").click(function(){return(0,n.default)(".outputs-panel").toggleClass("is-showing-all")})}},{key:"setupOutputSlots",value:function(){var e=this;this.densities.forEach(function(t){e.createImageOutputSlot_({container:"xxxhdpi"==t?(0,n.default)(".outputs-main"):(0,n.default)(".outputs-additional"),id:t,label:t})})}},{key:"createImageOutputSlot_",value:function(e){var t=(0,n.default)("<div>").addClass("outputs-image-container").append((0,n.default)("<img>").addClass("outputs-image").attr("data-id","out-icon-"+e.id));return this.gridOverlaySvg&&(0,n.default)("<div>").addClass("outputs-image-overlay").html(this.gridOverlaySvg).appendTo(t),(0,n.default)("<div>").addClass("outputs-image-block").append((0,n.default)("<div>").addClass("outputs-label").text(e.label)).append(t).appendTo(e.container)}},{key:"setImageForSlot_",value:function(e,t){o.Util.loadImageFromUri(t).then(function(t){return(0,n.default)('[data-id="out-icon-'+e+'"]').attr("src",t.src)})}},{key:"setupForm",value:function(){}},{key:"regenerate",value:function(){}},{key:"densities",get:function(){return i}}]),e}()},80:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Util=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(r(15));var n=t.Util={getMultBaseMdpi:function(e){switch(e){case"xxxhdpi":return 4;case"xxhdpi":return 3;case"xhdpi":return 2;case"hdpi":return 1.5;case"tvdpi":return 1.33125;case"mdpi":return 1;case"ldpi":return.75}return 1},getDpiForDensity:function(e){switch(e){case"xxxhdpi":return 640;case"xxhdpi":return 480;case"xhdpi":return 320;case"hdpi":return 240;case"tvdpi":return 213;case"mdpi":return 160;case"ldpi":return 120}return 160},mult:function(e,t){var r={};for(var a in e)r[a]=e[a]*t;return r},multRound:function(e,t){var r={};for(var a in e)r[a]=Math.round(e[a]*t);return r},sanitizeResourceName:function(e){return e.toLowerCase().replace(/[\s-\.]/g,"_").replace(/[^\w_]/g,"")},downloadFile:function(e,t){var r=(0,a.default)("<a>").hide().appendTo(document.body),n=e;e instanceof Blob||(n=new Blob([e],{type:"application/octet-stream"}));var o=window.URL.createObjectURL(n);r.attr({href:o,download:t}),r.get(0).click(),setTimeout(function(){r.remove(),window.URL.revokeObjectURL(o)},5e3)},loadImageFromUri:function(e){return new Promise(function(t,r){var a=document.createElement("img");a.onload=function(){return t(a)},a.onerror=function(){return r()},a.src=e})},debugCtx:function(e){n.debugCtx.$lastEl&&n.debugCtx.$lastEl.remove(),n.debugCtx.$lastEl=(0,a.default)("<img>").css({position:"fixed",top:0,right:0,zIndex:100,backgroundColor:"rgba(255, 0, 0, 0.5)",pointerEvents:"none"}).attr("src",e.canvas.toDataURL()).appendTo(document.body)},debounce:function(e,t){var r=void 0;return function(){for(var a=arguments.length,n=Array(a),o=0;o<a;o++)n[o]=arguments[o];r&&clearTimeout(r),r=setTimeout(function(){t.apply(void 0,n),r=null},e)}}}}});